<view class="container"><view class="form-container"><view class="form-item"><text class="label">计划标题</text><input class="input" type="text" placeholder="请输入计划标题" maxlength="100" value="{{a}}" bindinput="{{b}}"/></view><view class="form-item"><text class="label">计划描述</text><block wx:if="{{r0}}"><textarea class="textarea" placeholder="请输入计划描述" maxlength="500" value="{{c}}" bindinput="{{d}}"></textarea></block></view><view class="form-item"><text class="label">开始日期</text><picker mode="date" value="{{g}}" bindchange="{{h}}"><view class="picker-value"><text>{{e}}</text><uni-icons wx:if="{{f}}" u-i="4e4c1b18-0" bind:__l="__l" u-p="{{f}}"></uni-icons></view></picker></view><view class="form-item"><text class="label">结束日期</text><picker mode="date" value="{{k}}" bindchange="{{l}}"><view class="picker-value"><text>{{i}}</text><uni-icons wx:if="{{j}}" u-i="4e4c1b18-1" bind:__l="__l" u-p="{{j}}"></uni-icons></view></picker></view><view class="form-item"><text class="label">是否公开</text><switch checked="{{m}}" bindchange="{{n}}" color="#007AFF"/></view><view class="form-item spots-section"><view class="spots-header"><text class="label">景点列表</text><view class="add-spot-btn" bindtap="{{p}}"><uni-icons wx:if="{{o}}" u-i="4e4c1b18-2" bind:__l="__l" u-p="{{o}}"></uni-icons><text>添加景点</text></view></view><view wx:if="{{q}}" class="spots-list"><view wx:for="{{r}}" wx:for-item="dateGroup" wx:key="d" class="date-group"><view class="date-header"><text>{{dateGroup.a}}</text><text class="spot-count">（{{dateGroup.b}}个景点）</text></view><view wx:for="{{dateGroup.c}}" wx:for-item="spot" wx:key="l" class="spot-item"><view class="spot-info"><text class="spot-name">{{spot.a}}</text><view class="spot-date"><uni-icons wx:if="{{s}}" u-i="{{spot.b}}" bind:__l="__l" u-p="{{s}}"></uni-icons><text>{{spot.c}}</text></view><view wx:if="{{spot.d}}" class="spot-notes"><uni-icons wx:if="{{spot.f}}" u-i="{{spot.e}}" bind:__l="__l" u-p="{{spot.f}}"></uni-icons><text>{{spot.g}}</text></view></view><view class="spot-actions"><view class="action-btn" catchtap="{{spot.i}}"><uni-icons wx:if="{{t}}" u-i="{{spot.h}}" bind:__l="__l" u-p="{{t}}"></uni-icons></view><view class="action-btn" catchtap="{{spot.k}}"><uni-icons wx:if="{{v}}" u-i="{{spot.j}}" bind:__l="__l" u-p="{{v}}"></uni-icons></view></view></view></view></view><view wx:else class="empty-spots"><text>您尚未添加任何景点，点击上方按钮添加吧!</text></view></view></view><view class="btn-group"><button class="btn cancel" bindtap="{{w}}">取消</button><button class="btn save" bindtap="{{x}}">保存</button></view><uni-popup wx:if="{{F}}" class="r" u-s="{{['d']}}" u-r="notesPopup" u-i="4e4c1b18-7" bind:__l="__l" u-p="{{F}}"><view class="notes-popup"><view class="notes-popup-header"><text class="title">景点备注</text><text>记录您对景点的特别计划或想法</text></view><view class="notes-popup-content"><view class="form-item"><text class="label">备注内容</text><block wx:if="{{r0}}"><textarea class="notes-textarea" placeholder="请输入您对该景点的备注，例如：必去景点、特色美食、交通建议等" maxlength="200" value="{{y}}" bindinput="{{z}}"></textarea></block><text class="notes-count">{{A}}/200</text></view><view class="quick-notes"><text class="label">快速备注</text><view class="quick-notes-list"><view wx:for="{{B}}" wx:for-item="tag" wx:key="b" class="quick-note-tag" bindtap="{{tag.c}}"><text>{{tag.a}}</text></view></view></view></view><view class="notes-popup-footer"><button class="btn cancel" bindtap="{{C}}">取消</button><button class="btn confirm" bindtap="{{D}}">确认</button></view></view></uni-popup></view>