{"version":3,"file":"spots.js","sources":["pages/spots/spots.vue","E:/HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvc3BvdHMvc3BvdHMudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<!-- 搜索栏 -->\r\n\t\t<view class=\"search-box\">\r\n\t\t\t<view class=\"search-input\" @click=\"goToSearch\">\r\n\t\t\t\t<text class=\"iconfont icon-search\"></text>\r\n\t\t\t\t<text class=\"placeholder\">搜索景点/地点</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 分类标签 -->\r\n\t\t<scroll-view class=\"category-scroll\" scroll-x>\r\n\t\t\t<view class=\"category-list\">\r\n\t\t\t\t<view \r\n\t\t\t\t\tclass=\"category-item\" \r\n\t\t\t\t\t:class=\"{ active: currentCategory === item.id }\"\r\n\t\t\t\t\tv-for=\"(item, index) in categories\" \r\n\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t@click=\"changeCategory(item.id)\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{{item.name}}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t\t\r\n\t\t<!-- 景点列表 -->\r\n\t\t<scroll-view \r\n\t\t\tclass=\"spot-scroll\" \r\n\t\t\tscroll-y \r\n\t\t\t@scrolltolower=\"loadMore\"\r\n\t\t\trefresher-enabled\r\n\t\t\t:refresher-triggered=\"isRefreshing\"\r\n\t\t\t@refresherrefresh=\"refresh\"\r\n\t\t>\r\n\t\t\t<view class=\"spot-list\">\r\n\t\t\t\t<view class=\"spot-item\" v-for=\"(item, index) in spotList\" :key=\"index\" @click=\"goToDetail(item.id)\">\r\n\t\t\t\t\t<image :src=\"item.imageUrl\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t<view class=\"info\">\r\n\t\t\t\t\t\t<view class=\"name-box flex justify-between\">\r\n\t\t\t\t\t\t\t<text class=\"name\">{{item.name}}</text>\r\n\t\t\t\t\t\t\t<text class=\"distance\" v-if=\"item.distance\">{{item.distance}}km</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"tag-list\">\r\n\t\t\t\t\t\t\t<text class=\"tag\" v-for=\"(tag, tagIndex) in item.tags\" :key=\"tagIndex\">{{tag}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"bottom\">\r\n\t\t\t\t\t\t\t<view class=\"rating\">\r\n\t\t\t\t\t\t\t\t<text class=\"score\">{{item.rating}}分</text>\r\n\t\t\t\t\t\t\t\t<text class=\"comment\">({{item.commentCount}}点评)</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<text class=\"price\">¥{{item.price}}起</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 加载更多 -->\r\n\t\t\t<view class=\"loading\" v-if=\"loading\">\r\n\t\t\t\t<text>正在加载...</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"no-more\" v-if=\"noMore\">\r\n\t\t\t\t<text>没有更多了</text>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n/**\r\n * 景点列表页\r\n * @description 展示所有景点，支持分类筛选和下拉刷新\r\n */\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcategories: [\r\n\t\t\t\t{ id: 0, name: '全部' },\r\n\t\t\t\t{ id: 1, name: '自然风光' },\r\n\t\t\t\t{ id: 2, name: '人文古迹' },\r\n\t\t\t\t{ id: 3, name: '特色美食' },\r\n\t\t\t\t{ id: 4, name: '主题乐园' }\r\n\t\t\t],\r\n\t\t\tcurrentCategory: 0,\r\n\t\t\tspotList: [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 1,\r\n\t\t\t\t\tname: '西湖风景区',\r\n\t\t\t\t\timageUrl: '/static/spots/spot1.jpg',\r\n\t\t\t\t\tdistance: 2.5,\r\n\t\t\t\t\ttags: ['5A景区', '湖泊', '游船'],\r\n\t\t\t\t\trating: 4.9,\r\n\t\t\t\t\tcommentCount: 12580,\r\n\t\t\t\t\tprice: 80\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 2,\r\n\t\t\t\t\tname: '故宫博物院',\r\n\t\t\t\t\timageUrl: '/static/spots/spot2.jpg',\r\n\t\t\t\t\tdistance: 5.1,\r\n\t\t\t\t\ttags: ['5A景区', '古建筑', '文物'],\r\n\t\t\t\t\trating: 4.8,\r\n\t\t\t\t\tcommentCount: 25890,\r\n\t\t\t\t\tprice: 60\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 3,\r\n\t\t\t\t\tname: '黄山风景区',\r\n\t\t\t\t\timageUrl: '/static/spots/spot3.jpg',\r\n\t\t\t\t\tdistance: 8.2,\r\n\t\t\t\t\ttags: ['5A景区', '山岳', '云海'],\r\n\t\t\t\t\trating: 4.7,\r\n\t\t\t\t\tcommentCount: 8956,\r\n\t\t\t\t\tprice: 190\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tpage: 1,\r\n\t\t\tloading: false,\r\n\t\t\tnoMore: false,\r\n\t\t\tisRefreshing: false\r\n\t\t}\r\n\t},\r\n\tonLoad() {\r\n\t\t// 获取景点列表数据\r\n\t\tthis.getSpotList()\r\n\t},\r\n\tmethods: {\r\n\t\t// 切换分类\r\n\t\tchangeCategory(id) {\r\n\t\t\tif (this.currentCategory === id) return\r\n\t\t\tthis.currentCategory = id\r\n\t\t\tthis.page = 1\r\n\t\t\tthis.spotList = []\r\n\t\t\tthis.noMore = false\r\n\t\t\tthis.getSpotList()\r\n\t\t},\r\n\t\t\r\n\t\t// 获取景点列表\r\n\t\tasync getSpotList() {\r\n\t\t\tif (this.loading || this.noMore) return\r\n\t\t\tthis.loading = true\r\n\t\t\t\r\n\t\t\t// 模拟接口请求\r\n\t\t\tawait new Promise(resolve => setTimeout(resolve, 1000))\r\n\t\t\t\r\n\t\t\t// TODO: 实际项目中这里需要调用后端接口\r\n\t\t\tthis.loading = false\r\n\t\t\t\r\n\t\t\t// 模拟没有更多数据\r\n\t\t\tif (this.page > 2) {\r\n\t\t\t\tthis.noMore = true\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 下拉刷新\r\n\t\tasync refresh() {\r\n\t\t\tthis.isRefreshing = true\r\n\t\t\tthis.page = 1\r\n\t\t\tthis.spotList = []\r\n\t\t\tthis.noMore = false\r\n\t\t\tawait this.getSpotList()\r\n\t\t\tthis.isRefreshing = false\r\n\t\t},\r\n\t\t\r\n\t\t// 加载更多\r\n\t\tloadMore() {\r\n\t\t\tif (!this.noMore) {\r\n\t\t\t\tthis.page++\r\n\t\t\t\tthis.getSpotList()\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 跳转到搜索页\r\n\t\tgoToSearch() {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: '/pages/spots/search'\r\n\t\t\t})\r\n\t\t},\r\n\t\t\r\n\t\t// 跳转到详情页\r\n\t\tgoToDetail(id) {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: `/pages/spots/detail?id=${id}`\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.container {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\theight: 100vh;\r\n}\r\n\r\n.search-box {\r\n\tpadding: 20rpx 30rpx;\r\n\tbackground-color: #2B9939;\r\n\t\r\n\t.search-input {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\theight: 72rpx;\r\n\t\tpadding: 0 30rpx;\r\n\t\tbackground: rgba(255, 255, 255, 0.9);\r\n\t\tborder-radius: 36rpx;\r\n\t\t\r\n\t\t.icon-search {\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tcolor: #666;\r\n\t\t\tmargin-right: 10rpx;\r\n\t\t}\r\n\t\t\r\n\t\t.placeholder {\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #999;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.category-scroll {\r\n\tbackground-color: #fff;\r\n\tborder-bottom: 1rpx solid #eee;\r\n\t\r\n\t.category-list {\r\n\t\tdisplay: flex;\r\n\t\tpadding: 0 20rpx;\r\n\t\twhite-space: nowrap;\r\n\t\t\r\n\t\t.category-item {\r\n\t\t\tpadding: 20rpx 30rpx;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #666;\r\n\t\t\tposition: relative;\r\n\t\t\t\r\n\t\t\t&.active {\r\n\t\t\t\tcolor: #2B9939;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\r\n\t\t\t\t&::after {\r\n\t\t\t\t\tcontent: '';\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tleft: 30rpx;\r\n\t\t\t\t\tright: 30rpx;\r\n\t\t\t\t\tbottom: 10rpx;\r\n\t\t\t\t\theight: 4rpx;\r\n\t\t\t\t\tbackground-color: #2B9939;\r\n\t\t\t\t\tborder-radius: 2rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.spot-scroll {\r\n\tflex: 1;\r\n\tbackground-color: #f5f5f5;\r\n}\r\n\r\n.spot-list {\r\n\tpadding: 20rpx;\r\n\t\r\n\t.spot-item {\r\n\t\tmargin-bottom: 20rpx;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 12rpx;\r\n\t\toverflow: hidden;\r\n\t\t\r\n\t\timage {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 300rpx;\r\n\t\t}\r\n\t\t\r\n\t\t.info {\r\n\t\t\tpadding: 20rpx;\r\n\t\t\t\r\n\t\t\t.name-box {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tmargin-bottom: 16rpx;\r\n\t\t\t\t\r\n\t\t\t\t.name {\r\n\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t.distance {\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\tcolor: #999;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.tag-list {\r\n\t\t\t\tmargin-bottom: 16rpx;\r\n\t\t\t\t\r\n\t\t\t\t.tag {\r\n\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\tpadding: 4rpx 12rpx;\r\n\t\t\t\t\tmargin-right: 12rpx;\r\n\t\t\t\t\tfont-size: 22rpx;\r\n\t\t\t\t\tcolor: #2B9939;\r\n\t\t\t\t\tbackground-color: rgba(43, 153, 57, 0.1);\r\n\t\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.bottom {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\t\r\n\t\t\t\t.rating {\r\n\t\t\t\t\t.score {\r\n\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\tcolor: #FF9500;\r\n\t\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\t\tmargin-right: 8rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t.comment {\r\n\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\tcolor: #999;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t.price {\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tcolor: #FF5B05;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.loading, .no-more {\r\n\tpadding: 30rpx;\r\n\ttext-align: center;\r\n\t\r\n\ttext {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999;\r\n\t}\r\n}\r\n</style> ","import MiniProgramPage from 'D:/programs2024to2025/ranjiangtaoprogram/first/TravelPlatformMiniProgram/pages/spots/spots.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AAuEA,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,YAAY;AAAA,QACX,EAAE,IAAI,GAAG,MAAM,KAAM;AAAA,QACrB,EAAE,IAAI,GAAG,MAAM,OAAQ;AAAA,QACvB,EAAE,IAAI,GAAG,MAAM,OAAQ;AAAA,QACvB,EAAE,IAAI,GAAG,MAAM,OAAQ;AAAA,QACvB,EAAE,IAAI,GAAG,MAAM,OAAO;AAAA,MACtB;AAAA,MACD,iBAAiB;AAAA,MACjB,UAAU;AAAA,QACT;AAAA,UACC,IAAI;AAAA,UACJ,MAAM;AAAA,UACN,UAAU;AAAA,UACV,UAAU;AAAA,UACV,MAAM,CAAC,QAAQ,MAAM,IAAI;AAAA,UACzB,QAAQ;AAAA,UACR,cAAc;AAAA,UACd,OAAO;AAAA,QACP;AAAA,QACD;AAAA,UACC,IAAI;AAAA,UACJ,MAAM;AAAA,UACN,UAAU;AAAA,UACV,UAAU;AAAA,UACV,MAAM,CAAC,QAAQ,OAAO,IAAI;AAAA,UAC1B,QAAQ;AAAA,UACR,cAAc;AAAA,UACd,OAAO;AAAA,QACP;AAAA,QACD;AAAA,UACC,IAAI;AAAA,UACJ,MAAM;AAAA,UACN,UAAU;AAAA,UACV,UAAU;AAAA,UACV,MAAM,CAAC,QAAQ,MAAM,IAAI;AAAA,UACzB,QAAQ;AAAA,UACR,cAAc;AAAA,UACd,OAAO;AAAA,QACR;AAAA,MACA;AAAA,MACD,MAAM;AAAA,MACN,SAAS;AAAA,MACT,QAAQ;AAAA,MACR,cAAc;AAAA,IACf;AAAA,EACA;AAAA,EACD,SAAS;AAER,SAAK,YAAY;AAAA,EACjB;AAAA,EACD,SAAS;AAAA;AAAA,IAER,eAAe,IAAI;AAClB,UAAI,KAAK,oBAAoB;AAAI;AACjC,WAAK,kBAAkB;AACvB,WAAK,OAAO;AACZ,WAAK,WAAW,CAAC;AACjB,WAAK,SAAS;AACd,WAAK,YAAY;AAAA,IACjB;AAAA;AAAA,IAGD,MAAM,cAAc;AACnB,UAAI,KAAK,WAAW,KAAK;AAAQ;AACjC,WAAK,UAAU;AAGf,YAAM,IAAI,QAAQ,aAAW,WAAW,SAAS,GAAI,CAAC;AAGtD,WAAK,UAAU;AAGf,UAAI,KAAK,OAAO,GAAG;AAClB,aAAK,SAAS;AAAA,MACf;AAAA,IACA;AAAA;AAAA,IAGD,MAAM,UAAU;AACf,WAAK,eAAe;AACpB,WAAK,OAAO;AACZ,WAAK,WAAW,CAAC;AACjB,WAAK,SAAS;AACd,YAAM,KAAK,YAAY;AACvB,WAAK,eAAe;AAAA,IACpB;AAAA;AAAA,IAGD,WAAW;AACV,UAAI,CAAC,KAAK,QAAQ;AACjB,aAAK;AACL,aAAK,YAAY;AAAA,MAClB;AAAA,IACA;AAAA;AAAA,IAGD,aAAa;AACZA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,OACL;AAAA,IACD;AAAA;AAAA,IAGD,WAAW,IAAI;AACdA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK,0BAA0B,EAAE;AAAA,OACjC;AAAA,IACF;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvLA,GAAG,WAAW,eAAe;"}