{"version":3,"file":"detail.js","sources":["pages/spots/detail.vue","E:/HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvc3BvdHMvZGV0YWlsLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<!-- 轮播图 -->\r\n\t\t<swiper class=\"banner\" circular autoplay interval=\"3000\" duration=\"1000\" indicator-dots indicator-active-color=\"#2B9939\">\r\n\t\t\t<swiper-item v-for=\"(item, index) in spotDetail.images || []\" :key=\"index\">\r\n\t\t\t\t<image :src=\"item\" mode=\"aspectFill\"></image>\r\n\t\t\t</swiper-item>\r\n\t\t</swiper>\r\n\t\t\r\n\t\t<!-- 景点信息 -->\r\n\t\t<view class=\"info-section\">\r\n\t\t\t<view class=\"title-box\">\r\n\t\t\t\t<text class=\"name\">{{spotDetail.name || ''}}</text>\r\n\t\t\t\t<view class=\"favorite\" @click=\"toggleFavorite\">\r\n\t\t\t\t\t<text class=\"iconfont\" :class=\"spotDetail.isFavorite ? 'icon-heart-fill' : 'icon-heart'\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"rating-box\">\r\n\t\t\t\t<text class=\"score\">{{spotDetail.rating || 0}}分</text>\r\n\t\t\t\t<text class=\"comment-count\">({{spotDetail.commentCount || 0}}点评)</text>\r\n\t\t\t\t<text class=\"price\">¥{{(spotDetail.price || 0) / 100}}起</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"tag-list\">\r\n\t\t\t\t<text class=\"tag\" v-for=\"(tag, index) in spotDetail.tags || []\" :key=\"index\">{{tag}}</text>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"address-box\" @click=\"showNavigationOptions\">\r\n\t\t\t\t<text class=\"iconfont icon-location\"></text>\r\n\t\t\t\t<text class=\"address\">{{spotDetail.address || ''}}</text>\r\n\t\t\t\t<text class=\"distance\" v-if=\"spotDetail.distance\">{{spotDetail.distance}}km</text>\r\n\t\t\t\t<text class=\"iconfont icon-arrow-right\"></text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 景点介绍 -->\r\n\t\t<view class=\"desc-section\">\r\n\t\t\t<view class=\"section-title\">景点介绍</view>\r\n\t\t\t<text class=\"desc-text\">{{spotDetail.description || ''}}</text>\r\n\t\t\t<view class=\"open-info\">\r\n\t\t\t\t<view class=\"info-item\">\r\n\t\t\t\t\t<text class=\"label\">开放时间：</text>\r\n\t\t\t\t\t<text class=\"value\">{{spotDetail.openTime || ''}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"info-item\">\r\n\t\t\t\t\t<text class=\"label\">建议游玩：</text>\r\n\t\t\t\t\t<text class=\"value\">{{spotDetail.suggestedTime || ''}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 最新点评 -->\r\n\t\t<view class=\"comment-section\" v-if=\"spotDetail.comments && spotDetail.comments.length > 0\">\r\n\t\t\t<view class=\"section-header\">\r\n\t\t\t\t<text class=\"title\">用户评论</text>\r\n\t\t\t\t<text class=\"more\" @click=\"goToComments\">查看全部</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"comment-list\">\r\n\t\t\t\t<view class=\"comment-item\" v-for=\"(item, index) in spotDetail.comments\" :key=\"index\">\r\n\t\t\t\t\t<image class=\"avatar\" :src=\"item.user.avatar\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t<view class=\"user-info\">\r\n\t\t\t\t\t\t\t<text class=\"username\">{{item.user.username}}</text>\r\n\t\t\t\t\t\t\t<text class=\"rating\">{{item.rating}}分</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<text class=\"comment-text\">{{item.content}}</text>\r\n\t\t\t\t\t\t<view class=\"image-list\" v-if=\"item.images && item.images.length > 0\">\r\n\t\t\t\t\t\t\t<image \r\n\t\t\t\t\t\t\t\tv-for=\"(img, imgIndex) in item.images\" \r\n\t\t\t\t\t\t\t\t:key=\"imgIndex\" \r\n\t\t\t\t\t\t\t\t:src=\"img\" \r\n\t\t\t\t\t\t\t\tmode=\"aspectFill\"\r\n\t\t\t\t\t\t\t\t@click=\"previewImage(item.images, imgIndex)\"\r\n\t\t\t\t\t\t\t></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<text class=\"date\">{{formatDate(item.create_date)}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 底部操作栏 -->\r\n\t\t<view class=\"bottom-bar\">\r\n\t\t\t<view class=\"left\">\r\n\t\t\t\t<view class=\"action-btn\" @click=\"toggleFavorite\">\r\n\t\t\t\t\t<text class=\"iconfont\" :class=\"spotDetail.isFavorite ? 'icon-heart-fill' : 'icon-heart'\"></text>\r\n\t\t\t\t\t<text>{{spotDetail.isFavorite ? '已收藏' : '收藏'}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"action-btn\" @click=\"openMap\">\r\n\t\t\t\t\t<text class=\"iconfont icon-navigation\"></text>\r\n\t\t\t\t\t<text>导航</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<button class=\"comment-btn\" @click=\"showCommentPopup\">我要评论</button>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 导航选项弹窗 -->\r\n\t\t<view class=\"popup-mask\" v-if=\"showNavigation\" @click=\"hideNavigationOptions\">\r\n\t\t\t<view class=\"popup-content navigation-popup\" @click.stop>\r\n\t\t\t\t<view class=\"navigation-options\">\r\n\t\t\t\t\t<view class=\"title\">选择导航方式</view>\r\n\t\t\t\t\t<view class=\"option-list\">\r\n\t\t\t\t\t\t<view class=\"option\" v-for=\"(item, index) in navigationOptions\" :key=\"index\" @click=\"navigate(item)\">\r\n\t\t\t\t\t\t\t<text class=\"iconfont\" :class=\"item.icon\"></text>\r\n\t\t\t\t\t\t\t<text class=\"name\">{{item.name}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"cancel\" @click=\"hideNavigationOptions\">取消</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 评论弹出层 -->\r\n\t\t<view class=\"popup-mask\" v-if=\"showComment\" @click=\"hideCommentPopup\">\r\n\t\t\t<view class=\"popup-content comment-popupouter\" @click.stop>\r\n\t\t\t\t<scroll-view scroll-y class=\"comment-popup\">\r\n\t\t\t\t\t<view class=\"popup-header\">\r\n\t\t\t\t\t\t<text class=\"title\">发表评论</text>\r\n\t\t\t\t\t\t<text class=\"close\" @click=\"hideCommentPopup\">×</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"rating-box\">\r\n\t\t\t\t\t\t<text class=\"label\">评分</text>\r\n\t\t\t\t\t\t<view class=\"slider-container\">\r\n\t\t\t\t\t\t\t<slider \r\n\t\t\t\t\t\t\t\tclass=\"rating-slider\" \r\n\t\t\t\t\t\t\t\t:value=\"rating * 10\" \r\n\t\t\t\t\t\t\t\tmin=\"0\" \r\n\t\t\t\t\t\t\t\tmax=\"50\" \r\n\t\t\t\t\t\t\t\t:step=\"1\"\r\n\t\t\t\t\t\t\t\tshow-value\r\n\t\t\t\t\t\t\t\t@change=\"onSliderChange\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<text class=\"rating-value\">{{rating}}分</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"content-box\">\r\n\t\t\t\t\t\t<text class=\"content-label\">评论内容</text>\r\n\t\t\t\t\t\t<textarea \r\n\t\t\t\t\t\t\tv-model=\"commentContent\" \r\n\t\t\t\t\t\t\tplaceholder=\"请输入您的评论内容，让更多人了解这个景点\"\r\n\t\t\t\t\t\t\tmaxlength=\"500\"\r\n\t\t\t\t\t\t\tclass=\"content-input\"\r\n\t\t\t\t\t\t></textarea>\r\n\t\t\t\t\t\t<text class=\"count\">{{commentContent.length}}/500</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"image-box\">\r\n\t\t\t\t\t\t<text class=\"image-label\">上传图片</text>\r\n\t\t\t\t\t\t<view class=\"image-list\">\r\n\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\tclass=\"image-item\" \r\n\t\t\t\t\t\t\t\tv-for=\"(item, index) in commentImages\" \r\n\t\t\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<image \r\n\t\t\t\t\t\t\t\t\t:src=\"item\" \r\n\t\t\t\t\t\t\t\t\tmode=\"aspectFill\"\r\n\t\t\t\t\t\t\t\t\t@click=\"previewImage(index)\"\r\n\t\t\t\t\t\t\t\t></image>\r\n\t\t\t\t\t\t\t\t<text class=\"delete\" @click=\"deleteImage(index)\">×</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\tclass=\"upload-btn\" \r\n\t\t\t\t\t\t\t\tv-if=\"commentImages.length < 9\"\r\n\t\t\t\t\t\t\t\t@click=\"chooseImage\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<text class=\"iconfont icon-camera\"></text>\r\n\t\t\t\t\t\t\t\t<text class=\"tip\">{{commentImages.length}}/9</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<button \r\n\t\t\t\t\t\tclass=\"submit-btn\" \r\n\t\t\t\t\t\t:class=\"{ active: canSubmitComment }\"\r\n\t\t\t\t\t\t:disabled=\"!canSubmitComment\"\r\n\t\t\t\t\t\t@click=\"submitComment\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t发表评论\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n/**\r\n * 景点详情页面\r\n * @description 展示景点详细信息，包括图片、介绍、点评等\r\n */\r\nimport { ref } from 'vue'\r\n\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tshowNavigation: false,\r\n\t\t\tshowComment: false,\r\n\t\t\tspotId: '',\r\n\t\t\tspotDetail: {},\r\n\t\t\tnavigationOptions: [\r\n\t\t\t\t{ name: '百度地图', icon: 'icon-baidu' },\r\n\t\t\t\t{ name: '高德地图', icon: 'icon-gaode' },\r\n\t\t\t\t{ name: '腾讯地图', icon: 'icon-tengxun' }\r\n\t\t\t],\r\n\t\t\trating: 0,\r\n\t\t\tcommentContent: '',\r\n\t\t\tcommentImages: []\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tcanSubmitComment() {\r\n\t\t\treturn this.rating > 0 && this.commentContent.trim().length > 0\r\n\t\t}\r\n\t},\r\n\tonLoad(options) {\r\n\t\tif (options.id) {\r\n\t\t\tthis.spotId = options.id\r\n\t\t\tthis.getSpotDetail()\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t// 获取景点详情\r\n\t\tasync getSpotDetail() {\r\n\t\t\ttry {\r\n\t\t\t\tconst res = await uniCloud.callFunction({\r\n\t\t\t\t\tname: 'get-spot-detail',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tid: this.spotId\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tconst uid = uni.getStorageSync('userInfo').id\r\n\t\t\t\t// 获取收藏状态\r\n\t\t\t\tconst favoriteRes = await uniCloud.callFunction({\r\n\t\t\t\t\tname: 'get-favorite-status',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tuid: uid,\r\n\t\t\t\t\t\tspotId: this.spotId\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t})\t\r\n\t\t\t\tconsole.log(\"favoriteRes\",favoriteRes)\r\n\t\t\t\tif (res.result.code === 0) {\r\n\t\t\t\t\tthis.spotDetail = res.result.data\r\n\t\t\t\t\tthis.spotDetail.isFavorite = favoriteRes.result.data.isFavorite\r\n\t\t\t\t\tconsole.log(\"this.spotDetail\",this.spotDetail)\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: res.result.message,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.error('获取景点详情失败:', e)\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '获取详情失败',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 切换收藏状态\r\n\t\tasync toggleFavorite() {\r\n\t\t\t// 检查登录状态\r\n\t\t\tconst token = uni.getStorageSync('token')\r\n\t\t\tif (!token) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/user/login'\r\n\t\t\t\t})\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tconst uid = uni.getStorageSync('userInfo').id\r\n\t\t\tconsole.log(\"uid\",uid)\r\n\t\t\ttry {\r\n\t\t\t\tconst res = await uniCloud.callFunction({\r\n\t\t\t\t\tname: 'toggle-favorite',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tuid: uid,\r\n\t\t\t\t\t\tspotId: this.spotId\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tif (res.result.code === 0) {\r\n\t\t\t\t\tthis.spotDetail.isFavorite = res.result.data.isFavorite\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: this.spotDetail.isFavorite ? '收藏成功' : '已取消收藏',\r\n\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: res.result.message,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.error('操作收藏失败:', e)\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '操作失败',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 显示导航选项\r\n\t\tshowNavigationOptions() {\r\n\t\t\tthis.showNavigation = true\r\n\t\t},\r\n\t\t\r\n\t\t// 隐藏导航选项\r\n\t\thideNavigationOptions() {\r\n\t\t\tthis.showNavigation = false\r\n\t\t},\r\n\t\t\r\n\t\t// 导航\r\n\t\tnavigate(option) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: `即将打开${option.name}`,\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t\tthis.hideNavigationOptions()\r\n\t\t},\r\n\t\t\r\n\t\t// 跳转到评论列表页\r\n\t\tgoToComments() {\r\n\t\t\tconst userId = uni.getStorageSync('userInfo').id\r\n\t\t\tconsole.log(\"userId\",userId)\r\n\t\t\t// 判断是否登录\r\n\t\t\tif (!userId) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/user/login'\r\n\t\t\t\t})\r\n\t\t\t\treturn\r\n\t\t\t}\t\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: `/pages/spots/comments?id=${this.spotId}&userId=${userId}`\r\n\t\t\t})\r\n\t\t},\r\n\t\t\r\n\t\t// 预览图片\r\n\t\tpreviewImage(images, current) {\r\n\t\t\tuni.previewImage({\r\n\t\t\t\turls: images,\r\n\t\t\t\tcurrent: current\r\n\t\t\t})\r\n\t\t},\r\n\t\t\r\n\t\t// 格式化日期\r\n\t\tformatDate(timestamp) {\r\n\t\t\tif (!timestamp) return ''\r\n\t\t\tconst date = new Date(timestamp)\r\n\t\t\treturn `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`\r\n\t\t},\r\n\t\t\r\n\t\t// 显示评论弹窗\r\n\t\tshowCommentPopup() {\r\n\t\t\tif (!this.checkLogin()) return\r\n\t\t\tthis.showComment = true\r\n\t\t},\r\n\t\t\r\n\t\t// 隐藏评论弹窗\r\n\t\thideCommentPopup() {\r\n\t\t\tthis.showComment = false\r\n\t\t\t// 重置评论数据\r\n\t\t\tthis.rating = 0\r\n\t\t\tthis.commentContent = ''\r\n\t\t\tthis.commentImages = []\r\n\t\t},\r\n\t\t\r\n\t\t// 选择图片\r\n\t\tasync chooseImage() {\r\n\t\t\ttry {\r\n\t\t\t\tconst res = await uni.chooseImage({\r\n\t\t\t\t\tcount: 9 - this.commentImages.length,\r\n\t\t\t\t\tsizeType: ['compressed'],\r\n\t\t\t\t\tsourceType: ['album', 'camera']\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\t// 上传图片到云存储\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '上传中...'\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tconst uploadTasks = res.tempFilePaths.map(path => {\r\n\t\t\t\t\treturn uniCloud.uploadFile({\r\n\t\t\t\t\t\tfilePath: path,\r\n\t\t\t\t\t\tcloudPath: `comment-images/${Date.now()}-${Math.random().toString(36).slice(-6)}.jpg`\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tconst uploadResults = await Promise.all(uploadTasks)\r\n\t\t\t\tthis.commentImages.push(...uploadResults.map(item => item.fileID))\r\n\t\t\t\t\r\n\t\t\t\tuni.hideLoading()\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.error('选择图片失败:', e)\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '上传图片失败',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 删除图片\r\n\t\tdeleteImage(index) {\r\n\t\t\tthis.commentImages.splice(index, 1)\r\n\t\t},\r\n\t\t\r\n\t\t// 提交评论\r\n\t\tasync submitComment() {\r\n\t\t\tif (!this.canSubmitComment) return\r\n\t\t\t\r\n\t\t\ttry {\t\r\n\t\t\t\tconst uid = uni.getStorageSync('userInfo').id\r\n\t\t\t\tconst res = await uniCloud.callFunction({\r\n\t\t\t\t\tname: 'add-comment',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tuid: uid,\r\n\t\t\t\t\t\tspotId: this.spotId,\r\n\t\t\t\t\t\tcontent: this.commentContent.trim(),\r\n\t\t\t\t\t\trating: this.rating,\r\n\t\t\t\t\t\timages: this.commentImages\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tif (res.result.code === 0) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '评论成功',\r\n\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 重置表单\r\n\t\t\t\t\tthis.rating = 0\r\n\t\t\t\t\tthis.commentContent = ''\r\n\t\t\t\t\tthis.commentImages = []\r\n\t\t\t\t\tthis.hideCommentPopup()\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 刷新评论列表\r\n\t\t\t\t\tthis.getSpotDetail()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Error(res.result.message)\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.error('提交评论失败:', e)\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: e.message || '评论失败',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 检查登录状态\r\n\t\tcheckLogin() {\r\n\t\t\tconst token = uni.getStorageSync('token')\r\n\t\t\tif (!token) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/user/login'\r\n\t\t\t\t})\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t\treturn true\r\n\t\t},\r\n\t\t\r\n\t\t// 打开地图\r\n\t\topenMap() {\r\n\t\t\tthis.showNavigationOptions()\r\n\t\t},\r\n\t\t\r\n\t\t// 处理滑动条变化\r\n\t\tonSliderChange(e) {\r\n\t\t\tthis.rating = parseFloat((e.detail.value / 10).toFixed(1))\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.container {\r\n\tmin-height: 100vh;\r\n\tbackground-color: #f5f5f5;\r\n\tpadding-bottom: 40rpx;\r\n}\r\n\r\n.banner {\r\n\twidth: 100%;\r\n\theight: 500rpx;\r\n\t\r\n\timage {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n}\r\n\r\n.info-section {\r\n\tbackground-color: #fff;\r\n\tpadding: 30rpx;\r\n\tmargin-bottom: 20rpx;\r\n\t\r\n\t.title-box {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 20rpx;\r\n\t\t\r\n\t\t.name {\r\n\t\t\tfont-size: 36rpx;\r\n\t\t\tcolor: #333;\r\n\t\t\tfont-weight: bold;\r\n\t\t}\r\n\t\t\r\n\t\t.favorite {\r\n\t\t\t.iconfont {\r\n\t\t\t\tfont-size: 48rpx;\r\n\t\t\t\tcolor: #999;\r\n\t\t\t\t\r\n\t\t\t\t&.icon-heart-fill {\r\n\t\t\t\t\tcolor: #ff5b05;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t.rating-box {\r\n\t\tmargin-bottom: 20rpx;\r\n\t\t\r\n\t\t.score {\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tcolor: #ff9500;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tmargin-right: 10rpx;\r\n\t\t}\r\n\t\t\r\n\t\t.comment-count {\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #999;\r\n\t\t\tmargin-right: 20rpx;\r\n\t\t}\r\n\t\t\r\n\t\t.price {\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tcolor: #ff5b05;\r\n\t\t\tfont-weight: bold;\r\n\t\t}\r\n\t}\r\n\t\r\n\t.tag-list {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\tmargin-bottom: 20rpx;\r\n\t\t\r\n\t\t.tag {\r\n\t\t\tpadding: 4rpx 16rpx;\r\n\t\t\tbackground-color: #f5f5f5;\r\n\t\t\tcolor: #666;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tborder-radius: 4rpx;\r\n\t\t\tmargin-right: 16rpx;\r\n\t\t\tmargin-bottom: 16rpx;\r\n\t\t}\r\n\t}\r\n\t\r\n\t.address-box {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\t\r\n\t\t.icon-location {\r\n\t\t\tfont-size: 36rpx;\r\n\t\t\tcolor: #2b9939;\r\n\t\t\tmargin-right: 10rpx;\r\n\t\t}\r\n\t\t\r\n\t\t.address {\r\n\t\t\tflex: 1;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #333;\r\n\t\t}\r\n\t\t\r\n\t\t.distance {\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #999;\r\n\t\t\tmargin: 0 10rpx;\r\n\t\t}\r\n\t\t\r\n\t\t.icon-arrow-right {\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #999;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.desc-section {\r\n\tbackground-color: #fff;\r\n\tpadding: 30rpx;\r\n\tmargin-bottom: 20rpx;\r\n\t\r\n\t.section-title {\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #333;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\t\r\n\t.desc-text {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #666;\r\n\t\tline-height: 1.6;\r\n\t\tmargin-bottom: 30rpx;\r\n\t}\r\n\t\r\n\t.open-info {\r\n\t\t.info-item {\r\n\t\t\tdisplay: flex;\r\n\t\t\tmargin-bottom: 16rpx;\r\n\t\t\t\r\n\t\t\t&:last-child {\r\n\t\t\t\tmargin-bottom: 0;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.label {\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t\twidth: 160rpx;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.value {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tcolor: #666;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.comment-section {\r\n\tbackground-color: #fff;\r\n\tpadding: 30rpx;\r\n\tmargin-bottom: 20rpx;\r\n\t\r\n\t.section-header {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 30rpx;\r\n\t\t\r\n\t\t.title {\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tcolor: #333;\r\n\t\t\tfont-weight: bold;\r\n\t\t}\r\n\t\t\r\n\t\t.more {\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #2b9939;\r\n\t\t}\r\n\t}\r\n\t\r\n\t.comment-list {\r\n\t\t.comment-item {\r\n\t\t\tdisplay: flex;\r\n\t\t\tpadding: 20rpx 0;\r\n\t\t\tborder-bottom: 1rpx solid #eee;\r\n\t\t\t\r\n\t\t\t&:last-child {\r\n\t\t\t\tborder-bottom: none;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.avatar {\r\n\t\t\t\twidth: 80rpx;\r\n\t\t\t\theight: 80rpx;\r\n\t\t\t\tborder-radius: 40rpx;\r\n\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.content {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\t\r\n\t\t\t\t.user-info {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\tmargin-bottom: 10rpx;\r\n\t\t\t\t\t\r\n\t\t\t\t\t.username {\r\n\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t.rating {\r\n\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\tcolor: #ff9500;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t.comment-text {\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\tline-height: 1.6;\r\n\t\t\t\t\tmargin-bottom: 16rpx;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t.image-list {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-wrap: wrap;\r\n\t\t\t\t\tmargin-bottom: 16rpx;\r\n\t\t\t\t\t\r\n\t\t\t\t\timage {\r\n\t\t\t\t\t\twidth: 160rpx;\r\n\t\t\t\t\t\theight: 160rpx;\r\n\t\t\t\t\t\tmargin-right: 10rpx;\r\n\t\t\t\t\t\tmargin-bottom: 10rpx;\r\n\t\t\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t&:nth-child(3n) {\r\n\t\t\t\t\t\t\tmargin-right: 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t.date {\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\tcolor: #999;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.bottom-bar {\r\n\tposition: fixed;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\theight: 100rpx;\r\n\tbackground-color: #fff;\r\n\tborder-top: 1rpx solid #eee;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding: 0 30rpx;\r\n\t\r\n\t.left {\r\n\t\tdisplay: flex;\r\n\t\t\r\n\t\t.action-btn {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\talign-items: center;\r\n\t\t\tmargin-right: 40rpx;\r\n\t\t\t\r\n\t\t\t.iconfont {\r\n\t\t\t\tfont-size: 40rpx;\r\n\t\t\t\tcolor: #666;\r\n\t\t\t\tmargin-bottom: 4rpx;\r\n\t\t\t\t\r\n\t\t\t\t&.icon-heart-fill {\r\n\t\t\t\t\tcolor: #ff5b05;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ttext {\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: #666;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t.comment-btn {\r\n\t\tflex: 1;\r\n\t\theight: 72rpx;\r\n\t\tline-height: 72rpx;\r\n\t\ttext-align: center;\r\n\t\tbackground-color: #2B9939;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 28rpx;\r\n\t\tborder-radius: 36rpx;\r\n\t\tmargin-left: 30rpx;\r\n\t\t\r\n\t\t&::after {\r\n\t\t\tborder: none;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/* 弹窗基础样式 */\r\n.popup-mask {\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tbackground: rgba(0, 0, 0, 0.6);\r\n\tz-index: 999;\r\n\tdisplay: flex;\r\n\talign-items: flex-end;\r\n}\r\n\r\n.popup-content {\r\n\twidth: 100%;\r\n\tbackground-color: #fff;\r\n\tborder-radius: 24rpx 24rpx 0 0;\r\n\tposition: relative;\r\n\ttransition: transform 0.3s;\r\n\tmax-height: 90vh;\r\n}\r\n\r\n.comment-popupouter {\t\r\n\ttransform: translateY(0);\r\n}\r\n\r\n.navigation-popup {\r\n\ttransform: translateY(0);\r\n\tpadding: 30rpx;\r\n\t\r\n\t.navigation-options {\r\n\t\t.title {\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tcolor: #333;\r\n\t\t\ttext-align: center;\r\n\t\t\tmargin-bottom: 30rpx;\r\n\t\t}\r\n\t\t\r\n\t\t.option-list {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-around;\r\n\t\t\tmargin-bottom: 30rpx;\r\n\t\t\t\r\n\t\t\t.option {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\t\r\n\t\t\t\t.iconfont {\r\n\t\t\t\t\tfont-size: 80rpx;\r\n\t\t\t\t\tcolor: #2B9939;\r\n\t\t\t\t\tmargin-bottom: 10rpx;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t.name {\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tcolor: #333;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t.cancel {\r\n\t\t\theight: 90rpx;\r\n\t\t\tline-height: 90rpx;\r\n\t\t\ttext-align: center;\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tcolor: #666;\r\n\t\t\tborder-top: 1rpx solid #eee;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.comment-popup {\r\n\theight: 90vh;\r\n\tpadding: 30rpx;\r\n\tbox-sizing: border-box;\r\n\t\r\n\t.popup-header {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 30rpx;\r\n\t\t\r\n\t\t.title {\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tcolor: #333;\r\n\t\t\tfont-weight: bold;\r\n\t\t}\r\n\t\t\r\n\t\t.close {\r\n\t\t\tfont-size: 48rpx;\r\n\t\t\tcolor: #999;\r\n\t\t\tpadding: 0 20rpx;\r\n\t\t}\r\n\t}\r\n\t\r\n\t.rating-box {\r\n\t\tmargin-bottom: 30rpx;\r\n\t\t\r\n\t\t.label {\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #333;\r\n\t\t\tmargin-bottom: 20rpx;\r\n\t\t\tdisplay: block;\r\n\t\t}\r\n\t\t\r\n\t\t.slider-container {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding: 0 20rpx;\r\n\t\t\t\r\n\t\t\t.rating-slider {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.rating-value {\r\n\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\tcolor: #FF9500;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tmin-width: 80rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t.content-box {\r\n\t\tmargin-bottom: 30rpx;\r\n\t\t\r\n\t\t.content-label {\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #333;\r\n\t\t\tmargin-bottom: 20rpx;\r\n\t\t\tdisplay: block;\r\n\t\t}\r\n\t\t\r\n\t\t.content-input {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 200rpx;\r\n\t\t\tpadding: 20rpx;\r\n\t\t\tbackground-color: #f5f5f5;\r\n\t\t\tborder-radius: 12rpx;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #333;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t}\r\n\t\t\r\n\t\t.count {\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #999;\r\n\t\t\ttext-align: right;\r\n\t\t\tmargin-top: 10rpx;\r\n\t\t\tdisplay: block;\r\n\t\t}\r\n\t}\r\n\t\r\n\t.image-box {\r\n\t\tmargin-bottom: 30rpx;\r\n\t\t\r\n\t\t.image-label {\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #333;\r\n\t\t\tmargin-bottom: 20rpx;\r\n\t\t\tdisplay: block;\r\n\t\t}\r\n\t\t\r\n\t\t.image-list {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-wrap: wrap;\r\n\t\t\t\r\n\t\t\t.image-item {\r\n\t\t\t\twidth: 160rpx;\r\n\t\t\t\theight: 160rpx;\r\n\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t\tmargin-bottom: 20rpx;\r\n\t\t\t\tposition: relative;\r\n\t\t\t\t\r\n\t\t\t\t&:nth-child(4n) {\r\n\t\t\t\t\tmargin-right: 0;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\timage {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t.delete {\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\ttop: -16rpx;\r\n\t\t\t\t\tright: -16rpx;\r\n\t\t\t\t\twidth: 40rpx;\r\n\t\t\t\t\theight: 40rpx;\r\n\t\t\t\t\tline-height: 36rpx;\r\n\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\tbackground-color: rgba(0,0,0,0.5);\r\n\t\t\t\t\tborder-radius: 20rpx;\r\n\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.upload-btn {\r\n\t\t\t\twidth: 160rpx;\r\n\t\t\t\theight: 160rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\tbackground-color: #f5f5f5;\r\n\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t\t\r\n\t\t\t\t.iconfont {\r\n\t\t\t\t\tfont-size: 48rpx;\r\n\t\t\t\t\tcolor: #999;\r\n\t\t\t\t\tmargin-bottom: 10rpx;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t.tip {\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\tcolor: #999;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t.submit-btn {\r\n\t\twidth: 100%;\r\n\t\theight: 88rpx;\r\n\t\tline-height: 88rpx;\r\n\t\ttext-align: center;\r\n\t\tbackground-color: #ccc;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 32rpx;\r\n\t\tborder-radius: 44rpx;\r\n\t\tmargin-top: 40rpx;\r\n\t\t\r\n\t\t&.active {\r\n\t\t\tbackground-color: #2B9939;\r\n\t\t}\r\n\t\t\r\n\t\t&::after {\r\n\t\t\tborder: none;\r\n\t\t}\r\n\t}\r\n}\r\n</style> ","import MiniProgramPage from 'D:/programs2024to2025/ranjiangtaoprogram/first/TravelPlatformMiniProgram/pages/spots/detail.vue'\nwx.createPage(MiniProgramPage)"],"names":["uniCloud","uni"],"mappings":"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"}