{"version":3,"file":"map.js","sources":["pages/map/map.vue","E:/HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbWFwL21hcC52dWU"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<!-- 搜索栏 -->\r\n\t\t<view class=\"search-box\">\r\n\t\t\t<view class=\"search-input\" @click=\"goToSearch\">\r\n\t\t\t\t<text class=\"iconfont icon-search\"></text>\r\n\t\t\t\t<text class=\"placeholder\">搜索景点/地点</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 地图容器 -->\r\n\t\t<map\r\n\t\t\tid=\"map\"\r\n\t\t\tclass=\"map\"\r\n\t\t\t:latitude=\"latitude\"\r\n\t\t\t:longitude=\"longitude\"\r\n\t\t\t:markers=\"markers\"\r\n\t\t\t:polyline=\"polyline\"\r\n\t\t\tscale=\"14\"\r\n\t\t\tshow-location\r\n\t\t></map>\r\n\t\t\r\n\t\t<view class=\"navigation-info\" v-if=\"spot\">\r\n\t\t\t<view class=\"spot-info\">\r\n\t\t\t\t<text class=\"name\">{{spot.name}}</text>\r\n\t\t\t\t<text class=\"address\">{{spot.address}}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"navigation-btn\" @click=\"openMapApp\">\r\n\t\t\t\t<text class=\"iconfont icon-navigation\"></text>\r\n\t\t\t\t<text>导航</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 景点列表 -->\r\n\t\t<scroll-view \r\n\t\t\tclass=\"spot-list\" \r\n\t\t\tscroll-y\r\n\t\t\t:style=\"{ height: listHeight + 'px' }\"\r\n\t\t\t@scrolltolower=\"loadMore\"\r\n\t\t>\r\n\t\t\t<view class=\"spot-item\" v-for=\"(item, index) in spotList\" :key=\"index\" @click=\"goToDetail(item._id)\">\r\n\t\t\t\t<image class=\"spot-image\" :src=\"item.imageUrl\" mode=\"aspectFill\"></image>\r\n\t\t\t\t<view class=\"info\">\r\n\t\t\t\t\t<view class=\"name-box\">\r\n\t\t\t\t\t\t<text class=\"name\">{{item.name}}</text>\r\n\t\t\t\t\t\t<text class=\"distance\" v-if=\"item.distance\">{{item.distance.toFixed(1)}}km</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"rating\">\r\n\t\t\t\t\t\t<text class=\"score\">{{item.rating}}分</text>\r\n\t\t\t\t\t\t<text class=\"price\">¥{{item.price}}起</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"address\">{{item.address}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"nav-btn\" @click.stop=\"openMap(item)\">\r\n\t\t\t\t\t<text class=\"iconfont icon-navigation\"></text>\r\n\t\t\t\t\t<text>导航</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 导航选项弹窗 -->\r\n\t\t<view class=\"popup-mask\" v-if=\"showNavigation\" @click=\"hideNavigationOptions\">\r\n\t\t\t<view class=\"popup-content navigation-popup\" @click.stop>\r\n\t\t\t\t<view class=\"navigation-options\">\r\n\t\t\t\t\t<view class=\"title\">选择导航方式</view>\r\n\t\t\t\t\t<view class=\"option-list\">\r\n\t\t\t\t\t\t<view class=\"option\" v-for=\"(item, index) in navigationOptions\" :key=\"index\" @click=\"navigate(item)\">\r\n\t\t\t\t\t\t\t<text class=\"iconfont\" :class=\"item.icon\"></text>\r\n\t\t\t\t\t\t\t<text class=\"name\">{{item.name}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"cancel\" @click=\"hideNavigationOptions\">取消</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\t<!-- 加载更多 -->\r\n\t\t\t<view class=\"loading\" v-if=\"loading\">\r\n\t\t\t\t<text>正在加载...</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"no-more\" v-if=\"noMore\">\r\n\t\t\t\t<text>没有更多了</text>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\r\n/**\r\n * 地图页面\r\n * @description 展示景点在地图上的位置，支持导航\r\n */\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tlatitude: 39.909, // 默认纬度（北京）\r\n\t\t\tlongitude: 116.397, // 默认经度（北京）\r\n\t\t\tscale: 12, // 缩放级别\r\n\t\t\tmarkers: [], // 地图标记点\r\n\t\t\tspotList: [], // 景点列表\r\n\t\t\tpage: 1,\r\n\t\t\tpageSize: 10,\r\n\t\t\tloading: false,\r\n\t\t\tnoMore: false,\r\n\t\t\tlistHeight: 400, // 列表高度，单位px\r\n\t\t\tisLocationReady: false, // 位置是否就绪\r\n\t\t\tspot: null,\r\n\t\t\tpolyline: [],\r\n\t\t\tnavigationOptions: [\r\n\t\t\t\t{ name: '百度地图', icon: 'icon-baidu' },\r\n\t\t\t\t{ name: '高德地图', icon: 'icon-gaode' },\r\n\t\t\t\t{ name: '腾讯地图', icon: 'icon-tengxun' }\r\n\t\t\t],\r\n\t\t\tshowNavigation: false,\r\n\t\t}\r\n\t},\r\n\tonLoad(options) {\r\n\t\t// 获取列表容器高度\r\n\t\tconst systemInfo = uni.getSystemInfoSync()\r\n\t\tthis.listHeight = systemInfo.windowHeight - 350\r\n\t\t\r\n\t\t// 获取位置信息\r\n\t\tthis.getCurrentLocation()\r\n\t\t\r\n\t\t// 获取景点列表\r\n\t\tthis.getSpotList()\r\n\t\t\r\n\t\t// 获取景点信息\r\n\t\tif (options.id) {\r\n\t\t\tthis.getSpotInfo(options.id)\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t// 获取景点列表\r\n\t\tasync getSpotList() {\r\n\t\t\ttry {\r\n\t\t\t\tconst res = await uniCloud.callFunction({\r\n\t\t\t\t\tname: 'get-spots',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tlongitude: this.longitude,\r\n\t\t\t\t\t\tlatitude: this.latitude,\r\n\t\t\t\t\t\tpage: 1,\r\n\t\t\t\t\t\tpageSize: 10,\r\n\t\t\t\t\t\tsortBy: 'distance',\r\n\t\t\t\t\t\tsortOrder: 'asc'\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tif (res.result.code === 0) {\r\n\t\t\t\t\tthis.spotList = res.result.data.list\r\n\t\t\t\t\t//将spotList的数据以distance正向排序\r\n\t\t\t\t\tthis.spotList.sort((a, b) => a.distance - b.distance)\t\r\n\t\t\t\t\tconsole.log(\"景点列表\",this.spotList)\r\n\t\t\t\t\tthis.updateMarkers()\r\n\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.error('获取景点列表失败:', e)\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '获取景点列表失败',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// 获取景点信息\r\n\t\tasync getSpotInfo(id) {\r\n\t\t\ttry {\r\n\r\n\t\t\t\tconst res = await uniCloud.callFunction({\r\n\t\t\t\t\tname: 'get-spot-detail',\r\n\t\t\t\t\tdata: { id }\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tif (res.result.code === 0) {\r\n\t\t\t\t\tthis.spot = res.result.data\r\n\t\t\t\t\t// 添加标记点\r\n\t\t\t\t\tif (this.spot.location && this.spot.location.coordinates) {\r\n\t\t\t\t\t\tconst [longitude, latitude] = this.spot.location.coordinates\r\n\t\t\t\t\t\tthis.markers = [{\r\n\t\t\t\t\t\t\tid: 1,\r\n\t\t\t\t\t\t\tlatitude,\r\n\t\t\t\t\t\t\tlongitude,\r\n\t\t\t\t\t\t\ttitle: this.spot.name,\r\n\t\t\t\t\t\t\ticonPath: '/static/icons/park.png',\r\n\t\t\t\t\t\t\twidth: 32,\r\n\t\t\t\t\t\t\theight: 32\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.error('获取景点信息失败:', e)\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '获取景点信息失败',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 获取当前位置\r\n\t\tgetCurrentLocation() {\r\n\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\tthis.wxGetLocation()\r\n\t\t\t// #endif\r\n\t\t\t\r\n\t\t\t// #ifdef H5\r\n\t\t\tthis.h5GetLocation()\r\n\t\t\t// #endif\r\n\t\t\t\r\n\t\t\t// #ifdef APP-PLUS\r\n\t\t\tthis.appGetLocation()\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\t\r\n\t\t// 微信小程序获取位置\r\n\t\twxGetLocation() {\r\n\t\t\tuni.authorize({\r\n\t\t\t\tscope: 'scope.userLocation',\r\n\t\t\t\tsuccess: () => {\r\n\t\t\t\t\tthis.getLocationInfo()\r\n\t\t\t\t},\r\n\t\t\t\tfail: () => {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\tcontent: '需要获取您的地理位置，请确认授权',\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\tuni.openSetting()\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.useDefaultLocation()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t\r\n\t\t// H5获取位置\r\n\t\th5GetLocation() {\r\n\t\t\tif (navigator.geolocation) {\r\n\t\t\t\tnavigator.geolocation.getCurrentPosition(\r\n\t\t\t\t\t(position) => {\r\n\t\t\t\t\t\tthis.latitude = position.coords.latitude\r\n\t\t\t\t\t\tthis.longitude = position.coords.longitude\r\n\t\t\t\t\t\tthis.isLocationReady = true\r\n\t\t\t\t\t\tthis.updateMarkers()\r\n\t\t\t\t\t},\r\n\t\t\t\t\t(error) => {\r\n\t\t\t\t\t\tconsole.error('获取位置失败:', error)\r\n\t\t\t\t\t\tthis.useDefaultLocation()\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t} else {\r\n\t\t\t\tthis.useDefaultLocation()\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// APP获取位置\r\n\t\tappGetLocation() {\r\n\t\t\tthis.getLocationInfo()\r\n\t\t},\r\n\t\t\r\n\t\t// 统一获取位置信息\r\n\t\tgetLocationInfo() {\r\n\t\t\tuni.getLocation({\r\n\t\t\t\ttype: 'gcj02',\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tthis.latitude = res.latitude\r\n\t\t\t\t\tthis.longitude = res.longitude\r\n\t\t\t\t\tthis.isLocationReady = true\r\n\t\t\t\t\tthis.updateMarkers()\r\n\t\t\t\t},\r\n\t\t\t\tfail: (err) => {\r\n\t\t\t\t\tconsole.error('获取位置失败:', err)\r\n\t\t\t\t\tthis.useDefaultLocation()\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t\r\n\t\t// 使用默认位置（北京）\r\n\t\tuseDefaultLocation() {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '未能获取位置，使用默认位置',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t\tthis.isLocationReady = true\r\n\t\t\tthis.updateMarkers()\r\n\t\t},\r\n\t\t\r\n\t\t// 更新地图标记\r\n\t\tupdateMarkers() {\r\n\t\t\tif (this.spotList.length > 0) {\r\n\t\t\t\tthis.markers = this.spotList.map((spot, index) => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tid: index,\r\n\t\t\t\t\t\tlatitude: spot.location.coordinates[1],\r\n\t\t\t\t\t\tlongitude: spot.location.coordinates[0],\r\n\t\t\t\t\t\ttitle: spot.name,\r\n\t\t\t\t\t\ticonPath: '/static/icons/park.png',\r\n\t\t\t\t\t\twidth: 32,\r\n\t\t\t\t\t\theight: 32\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 获取附近景点\r\n\t\tasync getNearbySpots() {\r\n\t\t\tif (this.loading || this.noMore) return\r\n\t\t\tthis.loading = true\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tconst res = await uniCloud.callFunction({\r\n\t\t\t\t\tname: 'get-spots',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tlongitude: this.longitude,\r\n\t\t\t\t\t\tlatitude: this.latitude,\r\n\t\t\t\t\t\tpage: this.page,\r\n\t\t\t\t\t\tpageSize: this.pageSize,\r\n\t\t\t\t\t\tsortBy: 'distance',\r\n\t\t\t\t\t\tsortOrder: 'asc'\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tif (res.result.code === 0) {\r\n\t\t\t\t\tconst { list, total } = res.result.data\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 更新景点列表\r\n\t\t\t\t\tif (this.page === 1) {\r\n\t\t\t\t\t\tthis.spotList = list\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.spotList = [...this.spotList, ...list]\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 更新地图标记\r\n\t\t\t\t\tthis.updateMarkers()\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 检查是否还有更多数据\r\n\t\t\t\t\tthis.noMore = this.spotList.length >= total\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '获取景点失败',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.loading = false\r\n\t\t},\r\n\t\t\r\n\t\t// 加载更多\r\n\t\tloadMore() {\r\n\t\t\tif (!this.noMore) {\r\n\t\t\t\tthis.page++\r\n\t\t\t\tthis.getNearbySpots()\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 标记点点击事件\r\n\t\tonMarkerTap(e) {\r\n\t\t\tconst spot = this.spotList[e.markerId - 1]\r\n\t\t\tif (spot) {\r\n\t\t\t\tthis.goToDetail(spot._id)\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 打开地图应用进行导航\r\n\t\topenMapApp() {\r\n\t\t\tif (!this.spot || !this.spot.location) return\r\n\t\t\t\r\n\t\t\tconst [longitude, latitude] = this.spot.location.coordinates\r\n\t\t\tuni.openLocation({\r\n\t\t\t\tlatitude,\r\n\t\t\t\tlongitude,\r\n\t\t\t\tname: this.spot.name,\r\n\t\t\t\taddress: this.spot.address,\r\n\t\t\t\tsuccess: () => {\r\n\t\t\t\t\tconsole.log('打开导航成功')\r\n\t\t\t\t},\r\n\t\t\t\tfail: () => {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '打开导航失败',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t\r\n\t\t// 跳转到搜索页\r\n\t\tgoToSearch() {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: '/pages/spots/search'\r\n\t\t\t})\r\n\t\t},\r\n\t\t\r\n\t\t// 跳转到详情页\r\n\t\tgoToDetail(id) {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: `/pages/spots/detail?id=${id}`\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\t// 显示导航选项\r\n\t\tshowNavigationOptions() {\r\n\t\t\tthis.showNavigation = true\r\n\t\t},\r\n\t\t\r\n\t\t// 隐藏导航选项\r\n\t\thideNavigationOptions() {\r\n\t\t\tthis.showNavigation = false\r\n\t\t},\r\n\t\t\r\n\t\t// 导航\r\n\t\tnavigate(option) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: `即将打开${option.name}`,\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t\tthis.hideNavigationOptions()\r\n\t\t},\r\n\r\n\t\t// 打开地图\r\n\t\topenMap() {\r\n\t\t\tthis.showNavigationOptions()\r\n\t\t},\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.container {\r\n\theight: 100vh;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tposition: relative;\r\n}\r\n\r\n.search-box {\r\n\tpadding: 20rpx 30rpx;\r\n\tbackground-color: #2B9939;\r\n\theight: 100rpx;\r\n\tbox-sizing: border-box;\r\n\t\r\n\t.search-input {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\theight: 60rpx;\r\n\t\tpadding: 0 30rpx;\r\n\t\tbackground: rgba(255, 255, 255, 0.9);\r\n\t\tborder-radius: 30rpx;\r\n\t\t\r\n\t\t.icon-search {\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tcolor: #666;\r\n\t\t\tmargin-right: 10rpx;\r\n\t\t}\r\n\t\t\r\n\t\t.placeholder {\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #999;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.map {\r\n\twidth: 100%;\r\n\theight: 50vh;\r\n}\r\n\r\n.navigation-info {\r\n\tposition: absolute;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbackground-color: #fff;\r\n\tpadding: 30rpx;\r\n\tborder-radius: 24rpx 24rpx 0 0;\r\n\tbox-shadow: 0 -2rpx 10rpx rgba(0, 0, 0, 0.1);\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\t\r\n\t.spot-info {\r\n\t\tflex: 1;\r\n\t\tmargin-right: 20rpx;\r\n\t\t\r\n\t\t.name {\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tcolor: #333;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tmargin-bottom: 10rpx;\r\n\t\t\t@include text-ellipsis;\r\n\t\t}\r\n\t\t\r\n\t\t.address {\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #666;\r\n\t\t\t@include text-ellipsis;\r\n\t\t}\r\n\t}\r\n\t\r\n\t.navigation-btn {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tpadding: 20rpx;\r\n\t\t\r\n\t\t.iconfont {\r\n\t\t\tfont-size: 48rpx;\r\n\t\t\tcolor: #007AFF;\r\n\t\t\tmargin-bottom: 10rpx;\r\n\t\t}\r\n\t\t\r\n\t\ttext {\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #007AFF;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.spot-list {\r\n\tflex: 1;\r\n\tbackground-color: #f5f5f5;\r\n\tpadding: 20rpx;\r\n\t\r\n\t.spot-item {\r\n\t\tdisplay: flex;\r\n\t\tpadding: 20rpx;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 12rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\t\t\r\n\t\t.spot-image {\r\n\t\t\twidth: 160rpx;\r\n\t\t\theight: 160rpx;\r\n\t\t\tborder-radius: 8rpx;\r\n\t\t\tmargin-right: 20rpx;\r\n\t\t}\r\n\t\t\r\n\t\t.info {\r\n\t\t\tflex: 1;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\t\r\n\t\t\t.name-box {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tmargin-bottom: 10rpx;\r\n\t\t\t\t\r\n\t\t\t\t.name {\r\n\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t.distance {\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\tcolor: #999;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.rating {\r\n\t\t\t\tmargin-bottom: 10rpx;\r\n\t\t\t\t\r\n\t\t\t\t.score {\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tcolor: #FF9500;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t.price {\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tcolor: #FF5B05;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.address {\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: #666;\r\n\t\t\t\t@include text-ellipsis;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t.nav-btn {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tmargin-left: 20rpx;\r\n\t\t\tpadding: 0 20rpx;\r\n\t\t\t\r\n\t\t\t.iconfont {\r\n\t\t\t\tfont-size: 40rpx;\r\n\t\t\t\tcolor: #2B9939;\r\n\t\t\t\tmargin-bottom: 4rpx;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ttext {\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: #2B9939;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.loading, .no-more {\r\n\tpadding: 30rpx;\r\n\ttext-align: center;\r\n\t\r\n\ttext {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999;\r\n\t}\r\n}\r\n\r\n/* 弹窗基础样式 */\r\n.popup-mask {\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tbackground: rgba(0, 0, 0, 0.6);\r\n\tz-index: 999;\r\n\tdisplay: flex;\r\n\talign-items: flex-end;\r\n}\r\n\r\n.popup-content {\r\n\twidth: 100%;\r\n\tbackground-color: #fff;\r\n\tborder-radius: 24rpx 24rpx 0 0;\r\n\tposition: relative;\r\n\ttransition: transform 0.3s;\r\n\tmax-height: 90vh;\r\n}\r\n.navigation-popup {\r\n\ttransform: translateY(0);\r\n\tpadding: 30rpx;\r\n\t\r\n\t.navigation-options {\r\n\t\t.title {\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tcolor: #333;\r\n\t\t\ttext-align: center;\r\n\t\t\tmargin-bottom: 30rpx;\r\n\t\t}\r\n\t\t\r\n\t\t.option-list {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-around;\r\n\t\t\tmargin-bottom: 30rpx;\r\n\t\t\t\r\n\t\t\t.option {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\t\r\n\t\t\t\t.iconfont {\r\n\t\t\t\t\tfont-size: 80rpx;\r\n\t\t\t\t\tcolor: #2B9939;\r\n\t\t\t\t\tmargin-bottom: 10rpx;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t.name {\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tcolor: #333;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t.cancel {\r\n\t\t\theight: 90rpx;\r\n\t\t\tline-height: 90rpx;\r\n\t\t\ttext-align: center;\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tcolor: #666;\r\n\t\t\tborder-top: 1rpx solid #eee;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n</style> ","import MiniProgramPage from 'D:/programs2024to2025/ranjiangtaoprogram/first/TravelPlatformMiniProgram/pages/map/map.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","uniCloud"],"mappings":"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"}