{"version":3,"file":"user.js","sources":["pages/user/user.vue","E:/HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdXNlci91c2VyLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<!-- 用户信息卡片 -->\r\n\t\t<view class=\"user-card\">\r\n\t\t\t<view class=\"user-info\" @click=\"goToLogin\" v-if=\"!isLogin\">\r\n\t\t\t\t<image class=\"avatar\" src=\"/static/avatar/default-avatar.png\" mode=\"aspectFill\"></image>\r\n\t\t\t\t<text class=\"login-text\">登录/注册</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"user-info\" v-else>\r\n\t\t\t\t<image class=\"avatar\" :src=\"userInfo.avatar\" mode=\"aspectFill\" @click=\"goToAvatar\"></image>\r\n\t\t\t\t<view class=\"info-right\">\r\n\t\t\t\t\t<text class=\"username\">{{userInfo.username}}</text>\r\n\t\t\t\t\t<text class=\"user-id\">ID: {{userInfo.id}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 功能列表 -->\r\n\t\t<view class=\"menu-list\">\r\n\t\t\t<view class=\"menu-group\">\r\n\t\t\t\t<view class=\"menu-item\" @click=\"goToProfile\">\r\n\t\t\t\t\t<view class=\"left\">\r\n\t\t\t\t\t\t<text class=\"iconfont icon-user\"></text>\r\n\t\t\t\t\t\t<text class=\"title\">个人信息</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<text class=\"iconfont icon-arrow-right\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"menu-item\" @click=\"goToFavorites\">\r\n\t\t\t\t\t<view class=\"left\">\r\n\t\t\t\t\t\t<text class=\"iconfont icon-heart\"></text>\r\n\t\t\t\t\t\t<text class=\"title\">我的收藏</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<text class=\"iconfont icon-arrow-right\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"menu-group\">\r\n\t\t\t\t<view class=\"menu-item\" @click=\"goToSettings\">\r\n\t\t\t\t\t<view class=\"left\">\r\n\t\t\t\t\t\t<text class=\"iconfont icon-settings\"></text>\r\n\t\t\t\t\t\t<text class=\"title\">设置</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<text class=\"iconfont icon-arrow-right\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"menu-item\" @click=\"goToAbout\">\r\n\t\t\t\t\t<view class=\"left\">\r\n\t\t\t\t\t\t<text class=\"iconfont icon-info\"></text>\r\n\t\t\t\t\t\t<text class=\"title\">关于我们</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<text class=\"iconfont icon-arrow-right\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 退出登录按钮 -->\r\n\t\t<button class=\"logout-btn\" v-if=\"isLogin\" @click=\"logout\">退出登录</button>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n/**\r\n * 用户中心页面\r\n * @description 展示用户信息，提供各种功能入口\r\n */\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tisLogin: false,\r\n\t\t\tuserInfo: null\r\n\t\t}\r\n\t},\r\n\tonShow() {\r\n\t\t// 检查登录状态\r\n\t\tthis.checkLoginStatus()\r\n\t},\r\n\tmethods: {\r\n\t\t// 检查登录状态\r\n\t\tcheckLoginStatus() {\r\n\t\t\t// TODO: 实际项目中需要检查登录状态\r\n\t\t\tconst token = uni.getStorageSync('token')\r\n\t\t\tthis.isLogin = !!token\r\n\t\t\tif (this.isLogin) {\r\n\t\t\t\t//this.getUserInfo()\r\n\t\t\t\tthis.userInfo = uni.getStorageSync('userInfo')\r\n\t\t\t\tconsole.log(this.userInfo)\r\n\t\t\t}else{\r\n\t\t\t\tthis.userInfo = {\r\n\t\t\t\t\tavatar: '/static/avatar/default-avatar.png',\r\n\r\n\t\t\t\t\tusername: '游客',\r\n\t\t\t\t\tuserId: '10001'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\t\r\n\r\n\t\t// 获取用户信息\r\n\t\tasync getUserInfo() {\r\n\t\t\t// TODO: 调用后端接口获取用户信息\r\n\t\t\tuni.getStorageSync('userInfo', res.result.userInfo)\r\n\t\t},\r\n\t\t\r\n\t\t// 跳转到登录页\r\n\t\tgoToLogin() {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: '/pages/user/login'\r\n\t\t\t})\r\n\t\t},\r\n\t\t\r\n\t\t// 跳转到收藏页\r\n\t\tgoToFavorites() {\r\n\t\t\tif (!this.isLogin) {\r\n\t\t\t\tthis.goToLogin()\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: '/pages/user/favorites'\r\n\t\t\t})\r\n\t\t},\r\n\t\t\r\n\t\t\r\n\t\t// 跳转到设置页\r\n\t\tgoToSettings() {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: '/pages/user/settings'\r\n\t\t\t})\r\n\t\t},\r\n\t\t\r\n\t\t// 跳转到关于页\r\n\t\tgoToAbout() {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: '/pages/user/about'\r\n\t\t\t})\r\n\t\t},\r\n\t\t\r\n\t\t// 跳转到头像页面\r\n\t\tgoToAvatar() {\r\n\t\t\tif (!this.isLogin) return\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: '/pages/user/avatar'\r\n\t\t\t})\r\n\t\t},\r\n\t\t\r\n\t\t// 跳转到个人信息页\r\n\t\tgoToProfile() {\r\n\t\t\tif (!this.isLogin) {\r\n\t\t\t\tthis.goToLogin()\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: '/pages/user/profile'\r\n\t\t\t})\r\n\t\t},\r\n\t\t\r\n\t\t// 退出登录\r\n\t\tlogout() {\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: '提示',\r\n\t\t\t\tcontent: '确定要退出登录吗？',\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\tuni.removeStorageSync('token')\r\n\t\t\t\t\t\tthis.isLogin = false\r\n\t\t\t\t\t\tthis.userInfo = {\r\n\t\t\t\t\t\t\tavatar: '/static/avatar/default-avatar.png',\r\n\t\t\t\t\t\t\tusername: '游客',\r\n\t\t\t\t\t\t\tuserId: '10001'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '已退出登录',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.container {\r\n\tmin-height: 100vh;\r\n\tbackground-color: #f5f5f5;\r\n}\r\n\r\n.user-card {\r\n\tbackground-color: #2B9939;\r\n\tpadding: 40rpx 30rpx;\r\n\t\r\n\t.user-info {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\t\r\n\t\t.avatar {\r\n\t\t\twidth: 120rpx;\r\n\t\t\theight: 120rpx;\r\n\t\t\tborder-radius: 60rpx;\r\n\t\t\tborder: 4rpx solid rgba(255, 255, 255, 0.2);\r\n\t\t}\r\n\t\t\r\n\t\t.login-text {\r\n\t\t\tmargin-left: 30rpx;\r\n\t\t\tfont-size: 36rpx;\r\n\t\t\tcolor: #fff;\r\n\t\t\tfont-weight: bold;\r\n\t\t}\r\n\t\t\r\n\t\t.info-right {\r\n\t\t\tmargin-left: 30rpx;\r\n\t\t\t\r\n\t\t\t.username {\r\n\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tmargin-bottom: 10rpx;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.user-id {\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: rgba(255, 255, 255, 0.8);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.menu-list {\r\n\tpadding: 20rpx;\r\n\t\r\n\t.menu-group {\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 12rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\t\t\r\n\t\t.menu-item {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding: 30rpx;\r\n\t\t\tborder-bottom: 1rpx solid #eee;\r\n\t\t\t\r\n\t\t\t&:last-child {\r\n\t\t\t\tborder-bottom: none;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.left {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\t\r\n\t\t\t\t.iconfont {\r\n\t\t\t\t\tfont-size: 40rpx;\r\n\t\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t\t\t\r\n\t\t\t\t\t&.icon-heart {\r\n\t\t\t\t\t\tcolor: #FF5B05;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t&.icon-history {\r\n\t\t\t\t\t\tcolor: #2B9939;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t&.icon-settings {\r\n\t\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t&.icon-info {\r\n\t\t\t\t\t\tcolor: #2B9939;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t.title {\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tcolor: #333;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.icon-arrow-right {\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: #999;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.logout-btn {\r\n\tmargin: 40rpx 30rpx;\r\n\theight: 80rpx;\r\n\tline-height: 80rpx;\r\n\ttext-align: center;\r\n\tbackground-color: #fff;\r\n\tborder-radius: 40rpx;\r\n\tcolor: #FF5B05;\r\n\tfont-size: 28rpx;\r\n\t\r\n\t&::after {\r\n\t\tborder: none;\r\n\t}\r\n}\r\n</style> ","import MiniProgramPage from 'D:/programs2024to2025/ranjiangtaoprogram/first/TravelPlatformMiniProgram/pages/user/user.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","res"],"mappings":";;;AAgEA,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,SAAS;AAAA,MACT,UAAU;AAAA,IACX;AAAA,EACA;AAAA,EACD,SAAS;AAER,SAAK,iBAAiB;AAAA,EACtB;AAAA,EACD,SAAS;AAAA;AAAA,IAER,mBAAmB;AAElB,YAAM,QAAQA,cAAAA,MAAI,eAAe,OAAO;AACxC,WAAK,UAAU,CAAC,CAAC;AACjB,UAAI,KAAK,SAAS;AAEjB,aAAK,WAAWA,oBAAI,eAAe,UAAU;AAC7CA,sBAAAA,gDAAY,KAAK,QAAQ;AAAA,aACrB;AACJ,aAAK,WAAW;AAAA,UACf,QAAQ;AAAA,UAER,UAAU;AAAA,UACV,QAAQ;AAAA,QACT;AAAA,MACD;AAAA,IACA;AAAA;AAAA,IAGD,MAAM,cAAc;AAEnBA,oBAAAA,MAAI,eAAe,YAAY,IAAI,OAAO,QAAQ;AAAA,IAClD;AAAA;AAAA,IAGD,YAAY;AACXA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,OACL;AAAA,IACD;AAAA;AAAA,IAGD,gBAAgB;AACf,UAAI,CAAC,KAAK,SAAS;AAClB,aAAK,UAAU;AACf;AAAA,MACD;AACAA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,OACL;AAAA,IACD;AAAA;AAAA,IAID,eAAe;AACdA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,OACL;AAAA,IACD;AAAA;AAAA,IAGD,YAAY;AACXA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,OACL;AAAA,IACD;AAAA;AAAA,IAGD,aAAa;AACZ,UAAI,CAAC,KAAK;AAAS;AACnBA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,OACL;AAAA,IACD;AAAA;AAAA,IAGD,cAAc;AACb,UAAI,CAAC,KAAK,SAAS;AAClB,aAAK,UAAU;AACf;AAAA,MACD;AACAA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,OACL;AAAA,IACD;AAAA;AAAA,IAGD,SAAS;AACRA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,SAAS;AAAA,QACT,SAAS,CAAAC,SAAO;AACf,cAAIA,KAAI,SAAS;AAChBD,0BAAG,MAAC,kBAAkB,OAAO;AAC7B,iBAAK,UAAU;AACf,iBAAK,WAAW;AAAA,cACf,QAAQ;AAAA,cACR,UAAU;AAAA,cACV,QAAQ;AAAA,YACT;AACAA,0BAAAA,MAAI,UAAU;AAAA,cACb,OAAO;AAAA,cACP,MAAM;AAAA,aACN;AAAA,UACF;AAAA,QACD;AAAA,OACA;AAAA,IACF;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;AC/KA,GAAG,WAAW,eAAe;"}