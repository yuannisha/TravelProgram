{"version":3,"file":"favorites.js","sources":["pages/user/favorites.vue","E:/HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdXNlci9mYXZvcml0ZXMudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<!-- 分类切换 -->\r\n\t\t<view class=\"tab-bar\">\r\n\t\t\t<view \r\n\t\t\t\tclass=\"tab-item\" \r\n\t\t\t\t:class=\"{ active: activeTab === 'spot' }\"\r\n\t\t\t\t@click=\"switchTab('spot')\"\r\n\t\t\t>\r\n\t\t\t\t景点收藏\r\n\t\t\t</view>\r\n\t\t\t<view \r\n\t\t\t\tclass=\"tab-item\" \r\n\t\t\t\t:class=\"{ active: activeTab === 'plan' }\"\r\n\t\t\t\t@click=\"switchTab('plan')\"\r\n\t\t\t>\r\n\t\t\t\t计划收藏\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 空状态 -->\r\n\t\t<view class=\"empty\" v-if=\"favoriteList.length === 0\">\r\n\t\t\t<image src=\"/static/empty/no-favorites.png\" mode=\"aspectFit\"></image>\r\n\t\t\t<text>暂无{{activeTab === 'spot' ? '收藏的景点' : '收藏的旅行计划'}}</text>\r\n\t\t\t<button class=\"go-btn\" @click=\"goToList\">{{activeTab === 'spot' ? '去发现景点' : '去发现旅行计划'}}</button>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 收藏列表 -->\r\n\t\t<scroll-view \r\n\t\t\tv-else\r\n\t\t\tclass=\"favorite-list\" \r\n\t\t\tscroll-y \r\n\t\t\t@scrolltolower=\"loadMore\"\r\n\t\t\trefresher-enabled\r\n\t\t\t:refresher-triggered=\"isRefreshing\"\r\n\t\t\t@refresherrefresh=\"refresh\"\r\n\t\t>\r\n\t\t\t<!-- 景点列表 -->\r\n\t\t\t<template v-if=\"activeTab === 'spot'\">\r\n\t\t\t\t<view class=\"spot-favorite-item\" v-for=\"(item, index) in favoriteList\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"content\" @click=\"goToDetail(item)\">\r\n\t\t\t\t\t\t<image class=\"spot-image\" :src=\"item.detail.imageUrl\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t<view class=\"info\">\r\n\t\t\t\t\t\t\t<view class=\"name-box\">\r\n\t\t\t\t\t\t\t\t<text class=\"name\">{{item.detail.name}}</text>\r\n\t\t\t\t\t\t\t\t<view class=\"rating\">\r\n\t\t\t\t\t\t\t\t\t<uni-icons type=\"star-filled\" size=\"14\" color=\"#ff9500\"></uni-icons>\r\n\t\t\t\t\t\t\t\t\t<text class=\"score\">{{item.detail.rating}}分</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<view class=\"location\" v-if=\"item.detail.address\">\r\n\t\t\t\t\t\t\t\t<uni-icons type=\"location\" size=\"14\" color=\"#666\"></uni-icons>\r\n\t\t\t\t\t\t\t\t<text class=\"address\">{{item.detail.address}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<view class=\"tag-list\" v-if=\"item.detail.tags && item.detail.tags.length > 0\">\r\n\t\t\t\t\t\t\t\t<text class=\"tag\" v-for=\"(tag, tagIndex) in item.detail.tags\" :key=\"tagIndex\">{{tag}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<view class=\"bottom-info\">\r\n\t\t\t\t\t\t\t\t<view class=\"price\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"price-label\">门票</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"price-value\">¥{{item.detail.price / 100}}起</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<text class=\"time\">收藏于 {{formatDate(item.create_date)}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"action-box\">\r\n\t\t\t\t\t\t<button class=\"action-btn\" @click=\"cancelFavorite(item, index)\">\r\n\t\t\t\t\t\t\t<uni-icons type=\"trash\" size=\"16\" color=\"#666\"></uni-icons>\r\n\t\t\t\t\t\t\t<text>取消收藏</text>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button class=\"action-btn\" @click=\"share(item)\">\r\n\t\t\t\t\t\t\t<uni-icons type=\"redo\" size=\"16\" color=\"#666\"></uni-icons>\r\n\t\t\t\t\t\t\t<text>分享</text>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</template>\r\n\r\n\t\t\t<!-- 旅行计划列表 -->\r\n\t\t\t<template v-else>\r\n\t\t\t\t<view class=\"plan-favorite-item\" v-for=\"(item, index) in favoriteList\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"content\" @click=\"goToDetail(item)\">\r\n\t\t\t\t\t\t<!-- 用户信息 -->\r\n\t\t\t\t\t\t<view class=\"user-info\">\r\n\t\t\t\t\t\t\t<image \r\n\t\t\t\t\t\t\t\t:src=\"item.detail.user_info?.avatar || '/static/default-avatar.png'\" \r\n\t\t\t\t\t\t\t\tmode=\"aspectFill\" \r\n\t\t\t\t\t\t\t\tclass=\"avatar\"\r\n\t\t\t\t\t\t\t></image>\r\n\t\t\t\t\t\t\t<text class=\"username\">{{ item.detail.user_info?.username || '用户' }}</text>\r\n\t\t\t\t\t\t\t<text class=\"time\">{{ formatDate(item.create_date) }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<!-- 计划标题和状态 -->\r\n\t\t\t\t\t\t<view class=\"plan-header\">\r\n\t\t\t\t\t\t\t<text class=\"plan-title\">{{ item.detail.title }}</text>\r\n\t\t\t\t\t\t\t<text :class=\"['status-tag', getStatusClass(item.detail.status)]\">\r\n\t\t\t\t\t\t\t\t{{ getStatusText(item.detail.status) }}\r\n\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<!-- 计划日期 -->\r\n\t\t\t\t\t\t<view class=\"plan-dates\">\r\n\t\t\t\t\t\t\t<uni-icons type=\"calendar\" size=\"16\" color=\"#666\"></uni-icons>\r\n\t\t\t\t\t\t\t<text>{{ formatDate(item.detail.start_date) }} - {{ formatDate(item.detail.end_date) }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<!-- 计划描述 -->\r\n\t\t\t\t\t\t<view class=\"plan-description\" v-if=\"item.detail.description\">\r\n\t\t\t\t\t\t\t{{ item.detail.description }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<!-- 景点统计 -->\r\n\t\t\t\t\t\t<view class=\"plan-stats\" v-if=\"item.detail.spots && item.detail.spots.length > 0\">\r\n\t\t\t\t\t\t\t<uni-icons type=\"location\" size=\"16\" color=\"#666\"></uni-icons>\r\n\t\t\t\t\t\t\t<text>{{ item.detail.spots.length }}个景点</text>\r\n\t\t\t\t\t\t\t<text class=\"duration\">{{ getDuration(item.detail.start_date, item.detail.end_date) }}天行程</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"action-box\">\r\n\t\t\t\t\t\t<button class=\"action-btn\" @click=\"cancelFavorite(item, index)\">\r\n\t\t\t\t\t\t\t<uni-icons type=\"trash\" size=\"16\" color=\"#666\"></uni-icons>\r\n\t\t\t\t\t\t\t<text>取消收藏</text>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button class=\"action-btn\" @click=\"share(item)\">\r\n\t\t\t\t\t\t\t<uni-icons type=\"redo\" size=\"16\" color=\"#666\"></uni-icons>\r\n\t\t\t\t\t\t\t<text>分享</text>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</template>\r\n\t\t\t\r\n\t\t\t<!-- 加载更多 -->\r\n\t\t\t<view class=\"loading\" v-if=\"loading\">\r\n\t\t\t\t<text>正在加载...</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"no-more\" v-if=\"noMore\">\r\n\t\t\t\t<text>没有更多了</text>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n/**\r\n * 收藏页面\r\n * @description 展示用户收藏的景点和旅行计划列表\r\n */\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tactiveTab: 'spot', // 当前激活的标签：spot或plan\r\n\t\t\tfavoriteList: [],\r\n\t\t\tpage: 1,\r\n\t\t\tpageSize: 10,\r\n\t\t\tloading: false,\r\n\t\t\tnoMore: false,\r\n\t\t\tisRefreshing: false\r\n\t\t}\r\n\t},\r\n\tonShow() {\r\n\t\t// 每次显示页面时刷新数据\r\n\t\tthis.refresh()\r\n\t},\r\n\tmethods: {\r\n\t\t// 切换标签\r\n\t\tswitchTab(tab) {\r\n\t\t\tif (this.activeTab !== tab) {\r\n\t\t\t\tthis.activeTab = tab\r\n\t\t\t\tthis.refresh()\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 获取收藏列表\r\n\t\tasync getFavoriteList() {\r\n\t\t\tif (this.loading || this.noMore) return\r\n\t\t\tthis.loading = true\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tconst uid = uni.getStorageSync('userInfo')\r\n\t\t\t\tconst res = await uniCloud.callFunction({\r\n\t\t\t\t\tname: 'get-favorites',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tuid: uid.id,\r\n\t\t\t\t\t\tpage: this.page,\r\n\t\t\t\t\t\tpageSize: this.pageSize,\r\n\t\t\t\t\t\ttype: this.activeTab\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tif (res.result.code === 0) {\r\n\t\t\t\t\tconst { list, total } = res.result.data\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (this.page === 1) {\r\n\t\t\t\t\t\tthis.favoriteList = list\r\n\t\t\t\t\t\tconsole.log(\"this.favoriteList\",this.favoriteList)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.favoriteList = [...this.favoriteList, ...list]\r\n\t\t\t\t\t\tconsole.log(\"this.favoriteList\",this.favoriteList)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.noMore = this.favoriteList.length >= total\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.error('获取收藏列表失败:', e)\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '获取收藏列表失败',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.loading = false\r\n\t\t},\r\n\t\t\r\n\t\t// 取消收藏\r\n\t\tasync cancelFavorite(item, index) {\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: '提示',\r\n\t\t\t\tcontent: `确定要取消收藏该${this.activeTab === 'spot' ? '景点' : '旅行计划'}吗？`,\r\n\t\t\t\tsuccess: async res => {\r\n\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tconst uid = uni.getStorageSync('userInfo')\r\n\t\t\t\t\t\t\tconst res = await uniCloud.callFunction({\r\n\t\t\t\t\t\t\t\tname: 'toggle-favorite',\r\n\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\ttype: this.activeTab,\r\n\t\t\t\t\t\t\t\t\t...(this.activeTab === 'spot' \r\n\t\t\t\t\t\t\t\t\t\t? { spotId: item.detail._id }\r\n\t\t\t\t\t\t\t\t\t\t: { planId: item.detail._id }\r\n\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\tuid: uid.id\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\tif (res.result.code === 0) {\r\n\t\t\t\t\t\t\t\tthis.favoriteList.splice(index, 1)\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '已取消收藏',\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\tconsole.error('取消收藏失败:', e)\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '操作失败',\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t\r\n\t\t// 下拉刷新\r\n\t\tasync refresh() {\r\n\t\t\tthis.isRefreshing = true\r\n\t\t\tthis.page = 1\r\n\t\t\tthis.noMore = false\r\n\t\t\tawait this.getFavoriteList()\r\n\t\t\tthis.isRefreshing = false\r\n\t\t},\r\n\t\t\r\n\t\t// 加载更多\r\n\t\tloadMore() {\r\n\t\t\tif (!this.noMore) {\r\n\t\t\t\tthis.page++\r\n\t\t\t\tthis.getFavoriteList()\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 分享\r\n\t\tshare(item) {\r\n\t\t\tuni.showActionSheet({\r\n\t\t\t\titemList: ['分享到微信', '复制链接'],\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tif (res.tapIndex === 0) {\r\n\t\t\t\t\t\t// TODO: 调用微信分享\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconst path = this.activeTab === 'spot' \r\n\t\t\t\t\t\t\t? `/pages/spots/detail?id=${item.detail._id}`\r\n\t\t\t\t\t\t\t: `/pages/plans/plan-detail?id=${item.detail._id}`\r\n\t\t\t\t\t\tuni.setClipboardData({\r\n\t\t\t\t\t\t\tdata: `https://example.com${path}`,\r\n\t\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '链接已复制',\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t\r\n\t\t// 跳转到详情页\r\n\t\tgoToDetail(item) {\r\n\t\t\tconst path = this.activeTab === 'spot' \r\n\t\t\t\t? `/pages/spots/detail?id=${item.detail._id}`\r\n\t\t\t\t: `/pages/plans/plan-detail?id=${item.detail._id}`\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: path\r\n\t\t\t})\r\n\t\t},\r\n\t\t\r\n\t\t// 跳转到列表页\r\n\t\tgoToList() {\r\n\t\t\tif (this.activeTab === 'spot') {\r\n\t\t\t\tuni.switchTab({\r\n\t\t\t\t\turl: '/pages/spots/spots'\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tuni.switchTab({\r\n\t\t\t\t\turl: '/pages/plans/public-plans'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 格式化日期\r\n\t\tformatDate(timestamp) {\r\n\t\t\tconst date = new Date(timestamp)\r\n\t\t\treturn `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`\r\n\t\t},\r\n\t\t\r\n\t\t// 获取状态文本\r\n\t\tgetStatusText(status) {\r\n\t\t\tconst statusMap = {\r\n\t\t\t\t0: '计划中',\r\n\t\t\t\t1: '进行中',\r\n\t\t\t\t2: '已完成'\r\n\t\t\t}\r\n\t\t\treturn statusMap[status] || '未知'\r\n\t\t},\r\n\t\t\r\n\t\t// 获取状态样式类\r\n\t\tgetStatusClass(status) {\r\n\t\t\tconst statusMap = {\r\n\t\t\t\t0: 'status-planned',\r\n\t\t\t\t1: 'status-ongoing',\r\n\t\t\t\t2: 'status-completed'\r\n\t\t\t}\r\n\t\t\treturn statusMap[status] || ''\r\n\t\t},\r\n\t\t\r\n\t\t// 获取持续时间\r\n\t\tgetDuration(startDate, endDate) {\r\n\t\t\tconst start = new Date(startDate)\r\n\t\t\tconst end = new Date(endDate)\r\n\t\t\tconst diffTime = Math.abs(end - start)\r\n\t\t\tconst diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))\r\n\t\t\treturn diffDays\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.container {\r\n\tmin-height: 100vh;\r\n\tbackground-color: #f5f5f5;\r\n}\r\n\r\n.tab-bar {\r\n\tdisplay: flex;\r\n\tbackground-color: #fff;\r\n\tpadding: 20rpx 0;\r\n\tposition: sticky;\r\n\ttop: 0;\r\n\tz-index: 1;\r\n\t\r\n\t.tab-item {\r\n\t\tflex: 1;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #666;\r\n\t\tposition: relative;\r\n\t\tpadding: 20rpx 0;\r\n\t\t\r\n\t\t&.active {\r\n\t\t\tcolor: #2979ff;\r\n\t\t\tfont-weight: bold;\r\n\t\t\t\r\n\t\t\t&::after {\r\n\t\t\t\tcontent: '';\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\tleft: 50%;\r\n\t\t\t\ttransform: translateX(-50%);\r\n\t\t\t\twidth: 40rpx;\r\n\t\t\t\theight: 4rpx;\r\n\t\t\t\tbackground-color: #2979ff;\r\n\t\t\t\tborder-radius: 2rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.empty {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tpadding-top: 200rpx;\r\n\t\r\n\timage {\r\n\t\twidth: 400rpx;\r\n\t\theight: 400rpx;\r\n\t\tmargin-bottom: 40rpx;\r\n\t}\r\n\t\r\n\ttext {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #999;\r\n\t\tmargin-bottom: 40rpx;\r\n\t}\r\n\t\r\n\t.go-btn {\r\n\t\twidth: 300rpx;\r\n\t\theight: 80rpx;\r\n\t\tline-height: 80rpx;\r\n\t\ttext-align: center;\r\n\t\tbackground-color: #2979ff;\r\n\t\tcolor: #fff;\r\n\t\tborder-radius: 40rpx;\r\n\t\tfont-size: 28rpx;\r\n\t}\r\n}\r\n\r\n.favorite-list {\r\n\theight: calc(100vh - 88rpx);\r\n}\r\n\r\n.spot-favorite-item {\r\n\tbackground-color: #fff;\r\n\tmargin: 20rpx;\r\n\tborder-radius: 12rpx;\r\n\toverflow: hidden;\r\n\tbox-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.05);\r\n\t\r\n\t.content {\r\n\t\tpadding: 0;\r\n\t}\r\n\t\r\n\t.spot-image {\r\n\t\twidth: 100%;\r\n\t\theight: 360rpx;\r\n\t\tborder-radius: 12rpx 12rpx 0 0;\r\n\t}\r\n\t\r\n\t.info {\r\n\t\tpadding: 24rpx;\r\n\t}\r\n\t\r\n\t.name-box {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 16rpx;\r\n\t\t\r\n\t\t.name {\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tcolor: #333;\r\n\t\t\tflex: 1;\r\n\t\t\tmargin-right: 20rpx;\r\n\t\t}\r\n\t\t\r\n\t\t.rating {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\t\r\n\t\t\t.score {\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\tcolor: #ff9500;\r\n\t\t\t\tmargin-left: 6rpx;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t.location {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 16rpx;\r\n\t\t\r\n\t\t.address {\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tcolor: #666;\r\n\t\t\tmargin-left: 8rpx;\r\n\t\t\t@include text-ellipsis;\r\n\t\t}\r\n\t}\r\n\t\r\n\t.tag-list {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\tmargin-bottom: 16rpx;\r\n\t\t\r\n\t\t.tag {\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #2979ff;\r\n\t\t\tbackground-color: rgba(41, 121, 255, 0.1);\r\n\t\t\tpadding: 4rpx 16rpx;\r\n\t\t\tborder-radius: 20rpx;\r\n\t\t\tmargin-right: 16rpx;\r\n\t\t\tmargin-bottom: 12rpx;\r\n\t\t}\r\n\t}\r\n\t\r\n\t.bottom-info {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\t\r\n\t\t.price {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: baseline;\r\n\t\t\t\r\n\t\t\t.price-label {\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: #666;\r\n\t\t\t\tmargin-right: 8rpx;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.price-value {\r\n\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\tcolor: #ff5a5f;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t.time {\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #999;\r\n\t\t}\r\n\t}\r\n\t\r\n\t.action-box {\r\n\t\tdisplay: flex;\r\n\t\tborder-top: 2rpx solid #f5f5f5;\r\n\t\t\r\n\t\t.action-btn {\r\n\t\t\tflex: 1;\r\n\t\t\theight: 80rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #666;\r\n\t\t\tbackground-color: #fff;\r\n\t\t\t\r\n\t\t\t&:first-child {\r\n\t\t\t\tborder-right: 2rpx solid #f5f5f5;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.uni-icons {\r\n\t\t\t\tmargin-right: 8rpx;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t&:active {\r\n\t\t\t\tbackground-color: #f8f8f8;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.plan-favorite-item {\r\n\tbackground-color: #fff;\r\n\tmargin: 20rpx;\r\n\tborder-radius: 12rpx;\r\n\toverflow: hidden;\r\n\tbox-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.05);\r\n\t\r\n\t.content {\r\n\t\tpadding: 0;\r\n\t}\r\n\t\r\n\t.user-info {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tpadding: 24rpx;\r\n\t\t\r\n\t\t.avatar {\r\n\t\t\twidth: 40rpx;\r\n\t\t\theight: 40rpx;\r\n\t\t\tborder-radius: 50%;\r\n\t\t\tmargin-right: 16rpx;\r\n\t\t}\r\n\t\t\r\n\t\t.username {\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tcolor: #333;\r\n\t\t}\r\n\t\t\r\n\t\t.time {\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #999;\r\n\t\t}\r\n\t}\r\n\t\r\n\t.plan-header {\r\n\t\tpadding: 24rpx;\r\n\t\tborder-bottom: 2rpx solid #f5f5f5;\r\n\t\t\r\n\t\t.plan-title {\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tcolor: #333;\r\n\t\t}\r\n\t\t\r\n\t\t.status-tag {\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tpadding: 4rpx 16rpx;\r\n\t\t\tborder-radius: 20rpx;\r\n\t\t\tmargin-left: 16rpx;\r\n\t\t\t\r\n\t\t\t&.status-planned {\r\n\t\t\t\tcolor: #2979ff;\r\n\t\t\t\tbackground-color: rgba(41, 121, 255, 0.1);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t&.status-ongoing {\r\n\t\t\t\tcolor: #ff9500;\r\n\t\t\t\tbackground-color: rgba(255, 149, 0, 0.1);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t&.status-completed {\r\n\t\t\t\tcolor: #52c41a;\r\n\t\t\t\tbackground-color: rgba(82, 196, 26, 0.1);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t.plan-dates {\r\n\t\tpadding: 24rpx;\r\n\t\tborder-bottom: 2rpx solid #f5f5f5;\r\n\t\t\r\n\t\t.uni-icons {\r\n\t\t\tmargin-right: 8rpx;\r\n\t\t}\r\n\t\t\r\n\t\ttext {\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #666;\r\n\t\t}\r\n\t}\r\n\t\r\n\t.plan-description {\r\n\t\tpadding: 24rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #666;\r\n\t}\r\n\t\r\n\t.plan-stats {\r\n\t\tpadding: 24rpx;\r\n\t\tborder-top: 2rpx solid #f5f5f5;\r\n\t\t\r\n\t\t.uni-icons {\r\n\t\t\tmargin-right: 8rpx;\r\n\t\t}\r\n\t\t\r\n\t\ttext {\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #666;\r\n\t\t}\r\n\t\t\r\n\t\t.duration {\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #999;\r\n\t\t}\r\n\t}\r\n\t\r\n\t.action-box {\r\n\t\tdisplay: flex;\r\n\t\tborder-top: 2rpx solid #f5f5f5;\r\n\t\t\r\n\t\t.action-btn {\r\n\t\t\tflex: 1;\r\n\t\t\theight: 80rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #666;\r\n\t\t\tbackground-color: #fff;\r\n\t\t\t\r\n\t\t\t&:first-child {\r\n\t\t\t\tborder-right: 2rpx solid #f5f5f5;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.uni-icons {\r\n\t\t\t\tmargin-right: 8rpx;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t&:active {\r\n\t\t\t\tbackground-color: #f8f8f8;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.loading, .no-more {\r\n\ttext-align: center;\r\n\tpadding: 30rpx;\r\n\tcolor: #999;\r\n\tfont-size: 24rpx;\r\n}\r\n\r\n.status-tag {\r\n\tdisplay: inline-block;\r\n\tfont-size: 24rpx;\r\n\tpadding: 4rpx 16rpx;\r\n\tborder-radius: 20rpx;\r\n\t\r\n\t&.status-planned {\r\n\t\tcolor: #2979ff;\r\n\t\tbackground-color: rgba(41, 121, 255, 0.1);\r\n\t}\r\n\t\r\n\t&.status-ongoing {\r\n\t\tcolor: #ff9500;\r\n\t\tbackground-color: rgba(255, 149, 0, 0.1);\r\n\t}\r\n\t\r\n\t&.status-completed {\r\n\t\tcolor: #52c41a;\r\n\t\tbackground-color: rgba(82, 196, 26, 0.1);\r\n\t}\r\n}\r\n\r\n// 添加文本省略的mixin\r\n@mixin text-ellipsis {\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n</style> ","import MiniProgramPage from 'D:/programs2024to2025/ranjiangtaoprogram/first/TravelPlatformMiniProgram/pages/user/favorites.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","uniCloud","res"],"mappings":";;;AAyJA,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,WAAW;AAAA;AAAA,MACX,cAAc,CAAE;AAAA,MAChB,MAAM;AAAA,MACN,UAAU;AAAA,MACV,SAAS;AAAA,MACT,QAAQ;AAAA,MACR,cAAc;AAAA,IACf;AAAA,EACA;AAAA,EACD,SAAS;AAER,SAAK,QAAQ;AAAA,EACb;AAAA,EACD,SAAS;AAAA;AAAA,IAER,UAAU,KAAK;AACd,UAAI,KAAK,cAAc,KAAK;AAC3B,aAAK,YAAY;AACjB,aAAK,QAAQ;AAAA,MACd;AAAA,IACA;AAAA;AAAA,IAGD,MAAM,kBAAkB;AACvB,UAAI,KAAK,WAAW,KAAK;AAAQ;AACjC,WAAK,UAAU;AAEf,UAAI;AACH,cAAM,MAAMA,cAAAA,MAAI,eAAe,UAAU;AACzC,cAAM,MAAM,MAAMC,cAAQ,GAAC,aAAa;AAAA,UACvC,MAAM;AAAA,UACN,MAAM;AAAA,YACL,KAAK,IAAI;AAAA,YACT,MAAM,KAAK;AAAA,YACX,UAAU,KAAK;AAAA,YACf,MAAM,KAAK;AAAA,UACZ;AAAA,SACA;AAED,YAAI,IAAI,OAAO,SAAS,GAAG;AAC1B,gBAAM,EAAE,MAAM,MAAQ,IAAE,IAAI,OAAO;AAEnC,cAAI,KAAK,SAAS,GAAG;AACpB,iBAAK,eAAe;AACpBD,0BAAY,MAAA,MAAA,OAAA,mCAAA,qBAAoB,KAAK,YAAY;AAAA,iBAC3C;AACN,iBAAK,eAAe,CAAC,GAAG,KAAK,cAAc,GAAG,IAAI;AAClDA,0BAAY,MAAA,MAAA,OAAA,mCAAA,qBAAoB,KAAK,YAAY;AAAA,UAClD;AAEA,eAAK,SAAS,KAAK,aAAa,UAAU;AAAA,QAC3C;AAAA,MACD,SAAS,GAAG;AACXA,sBAAAA,wDAAc,aAAa,CAAC;AAC5BA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,SACN;AAAA,MACF;AAEA,WAAK,UAAU;AAAA,IACf;AAAA;AAAA,IAGD,MAAM,eAAe,MAAM,OAAO;AACjCA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,SAAS,WAAW,KAAK,cAAc,SAAS,OAAO,MAAM;AAAA,QAC7D,SAAS,OAAM,QAAO;AACrB,cAAI,IAAI,SAAS;AAChB,gBAAI;AACH,oBAAM,MAAMA,cAAAA,MAAI,eAAe,UAAU;AACzC,oBAAME,OAAM,MAAMD,cAAQ,GAAC,aAAa;AAAA,gBACvC,MAAM;AAAA,gBACN,MAAM;AAAA,kBACL,MAAM,KAAK;AAAA,kBACX,GAAI,KAAK,cAAc,SACpB,EAAE,QAAQ,KAAK,OAAO,IAAI,IAC1B,EAAE,QAAQ,KAAK,OAAO,IAAI;AAAA,kBAE7B,KAAK,IAAI;AAAA,gBACV;AAAA,eACA;AAED,kBAAIC,KAAI,OAAO,SAAS,GAAG;AAC1B,qBAAK,aAAa,OAAO,OAAO,CAAC;AACjCF,8BAAAA,MAAI,UAAU;AAAA,kBACb,OAAO;AAAA,kBACP,MAAM;AAAA,iBACN;AAAA,cACF;AAAA,YACD,SAAS,GAAG;AACXA,4BAAAA,MAAA,MAAA,SAAA,mCAAc,WAAW,CAAC;AAC1BA,4BAAAA,MAAI,UAAU;AAAA,gBACb,OAAO;AAAA,gBACP,MAAM;AAAA,eACN;AAAA,YACF;AAAA,UACD;AAAA,QACD;AAAA,OACA;AAAA,IACD;AAAA;AAAA,IAGD,MAAM,UAAU;AACf,WAAK,eAAe;AACpB,WAAK,OAAO;AACZ,WAAK,SAAS;AACd,YAAM,KAAK,gBAAgB;AAC3B,WAAK,eAAe;AAAA,IACpB;AAAA;AAAA,IAGD,WAAW;AACV,UAAI,CAAC,KAAK,QAAQ;AACjB,aAAK;AACL,aAAK,gBAAgB;AAAA,MACtB;AAAA,IACA;AAAA;AAAA,IAGD,MAAM,MAAM;AACXA,oBAAAA,MAAI,gBAAgB;AAAA,QACnB,UAAU,CAAC,SAAS,MAAM;AAAA,QAC1B,SAAS,SAAO;AACf,cAAI,IAAI,aAAa;AAAG;AAAA,eAEjB;AACN,kBAAM,OAAO,KAAK,cAAc,SAC7B,0BAA0B,KAAK,OAAO,GAAG,KACzC,+BAA+B,KAAK,OAAO,GAAG;AACjDA,0BAAAA,MAAI,iBAAiB;AAAA,cACpB,MAAM,sBAAsB,IAAI;AAAA,cAChC,SAAS,MAAM;AACdA,8BAAAA,MAAI,UAAU;AAAA,kBACb,OAAO;AAAA,kBACP,MAAM;AAAA,iBACN;AAAA,cACF;AAAA,aACA;AAAA,UACF;AAAA,QACD;AAAA,OACA;AAAA,IACD;AAAA;AAAA,IAGD,WAAW,MAAM;AAChB,YAAM,OAAO,KAAK,cAAc,SAC7B,0BAA0B,KAAK,OAAO,GAAG,KACzC,+BAA+B,KAAK,OAAO,GAAG;AACjDA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,OACL;AAAA,IACD;AAAA;AAAA,IAGD,WAAW;AACV,UAAI,KAAK,cAAc,QAAQ;AAC9BA,sBAAAA,MAAI,UAAU;AAAA,UACb,KAAK;AAAA,SACL;AAAA,aACK;AACNA,sBAAAA,MAAI,UAAU;AAAA,UACb,KAAK;AAAA,SACL;AAAA,MACF;AAAA,IACA;AAAA;AAAA,IAGD,WAAW,WAAW;AACrB,YAAM,OAAO,IAAI,KAAK,SAAS;AAC/B,aAAO,GAAG,KAAK,YAAW,CAAE,IAAI,OAAO,KAAK,SAAQ,IAAK,CAAC,EAAE,SAAS,GAAG,GAAG,CAAC,IAAI,OAAO,KAAK,SAAS,EAAE,SAAS,GAAG,GAAG,CAAC;AAAA,IACvH;AAAA;AAAA,IAGD,cAAc,QAAQ;AACrB,YAAM,YAAY;AAAA,QACjB,GAAG;AAAA,QACH,GAAG;AAAA,QACH,GAAG;AAAA,MACJ;AACA,aAAO,UAAU,MAAM,KAAK;AAAA,IAC5B;AAAA;AAAA,IAGD,eAAe,QAAQ;AACtB,YAAM,YAAY;AAAA,QACjB,GAAG;AAAA,QACH,GAAG;AAAA,QACH,GAAG;AAAA,MACJ;AACA,aAAO,UAAU,MAAM,KAAK;AAAA,IAC5B;AAAA;AAAA,IAGD,YAAY,WAAW,SAAS;AAC/B,YAAM,QAAQ,IAAI,KAAK,SAAS;AAChC,YAAM,MAAM,IAAI,KAAK,OAAO;AAC5B,YAAM,WAAW,KAAK,IAAI,MAAM,KAAK;AACrC,YAAM,WAAW,KAAK,KAAK,YAAY,MAAO,KAAK,KAAK,GAAG;AAC3D,aAAO;AAAA,IACR;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtWA,GAAG,WAAW,eAAe;"}