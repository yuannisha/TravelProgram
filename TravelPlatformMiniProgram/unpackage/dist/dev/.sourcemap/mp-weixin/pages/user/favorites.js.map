{"version":3,"file":"favorites.js","sources":["pages/user/favorites.vue","E:/HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdXNlci9mYXZvcml0ZXMudnVl"],"sourcesContent":["<template>\n\t<view class=\"container\">\n\t\t<!-- 分类切换 -->\n\t\t<view class=\"tab-bar\">\n\t\t\t<view \n\t\t\t\tclass=\"tab-item\" \n\t\t\t\t:class=\"{ active: activeTab === 'spot' }\"\n\t\t\t\t@click=\"switchTab('spot')\"\n\t\t\t>\n\t\t\t\t景点收藏\n\t\t\t</view>\n\t\t\t<view \n\t\t\t\tclass=\"tab-item\" \n\t\t\t\t:class=\"{ active: activeTab === 'plan' }\"\n\t\t\t\t@click=\"switchTab('plan')\"\n\t\t\t>\n\t\t\t\t计划收藏\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- 空状态 -->\n\t\t<view class=\"empty\" v-if=\"favoriteList.length === 0\">\n\t\t\t<image src=\"/static/empty/no-favorites.png\" mode=\"aspectFit\"></image>\n\t\t\t<text>暂无{{activeTab === 'spot' ? '收藏的景点' : '收藏的旅行计划'}}</text>\n\t\t\t<button class=\"go-btn\" @click=\"goToList\">{{activeTab === 'spot' ? '去发现景点' : '去发现旅行计划'}}</button>\n\t\t</view>\n\t\t\n\t\t<!-- 收藏列表 -->\n\t\t<scroll-view \n\t\t\tv-else\n\t\t\tclass=\"favorite-list\" \n\t\t\tscroll-y \n\t\t\t@scrolltolower=\"loadMore\"\n\t\t\trefresher-enabled\n\t\t\t:refresher-triggered=\"isRefreshing\"\n\t\t\t@refresherrefresh=\"refresh\"\n\t\t>\n\t\t\t<!-- 景点列表 -->\n\t\t\t<template v-if=\"activeTab === 'spot'\">\n\t\t\t\t<view class=\"spot-favorite-item\" v-for=\"(item, index) in favoriteList\" :key=\"index\">\n\t\t\t\t\t<!-- 已删除的景点显示 -->\n\t\t\t\t\t<view class=\"deleted-item\" v-if=\"item.is_deleted\">\n\t\t\t\t\t\t<uni-icons type=\"info\" size=\"20\" color=\"#999\"></uni-icons>\n\t\t\t\t\t\t<text class=\"deleted-text\">该景点已不存在</text>\n\t\t\t\t\t\t<button class=\"remove-btn\" @click=\"cancelFavorite(item, index)\">移除</button>\n\t\t\t\t\t</view>\n\t\t\t\t\t<!-- 正常景点显示 -->\n\t\t\t\t\t<view class=\"content\" v-else @click=\"goToDetail(item)\">\n\t\t\t\t\t\t<image class=\"spot-image\" :src=\"item.detail.imageUrl\" mode=\"aspectFill\"></image>\n\t\t\t\t\t\t<view class=\"info\">\n\t\t\t\t\t\t\t<view class=\"name-box\">\n\t\t\t\t\t\t\t\t<text class=\"name\">{{item.detail.name}}</text>\n\t\t\t\t\t\t\t\t<view class=\"rating\">\n\t\t\t\t\t\t\t\t\t<uni-icons type=\"star-filled\" size=\"14\" color=\"#ff9500\"></uni-icons>\n\t\t\t\t\t\t\t\t\t<text class=\"score\">{{item.detail.rating}}分</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<view class=\"location\" v-if=\"item.detail.address\">\n\t\t\t\t\t\t\t\t<uni-icons type=\"location\" size=\"14\" color=\"#666\"></uni-icons>\n\t\t\t\t\t\t\t\t<text class=\"address\">{{item.detail.address}}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<view class=\"tag-list\" v-if=\"item.detail.tags && item.detail.tags.length > 0\">\n\t\t\t\t\t\t\t\t<text class=\"tag\" v-for=\"(tag, tagIndex) in item.detail.tags\" :key=\"tagIndex\">{{tag}}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<view class=\"bottom-info\">\n\t\t\t\t\t\t\t\t<view class=\"price\">\n\t\t\t\t\t\t\t\t\t<text class=\"price-label\">门票</text>\n\t\t\t\t\t\t\t\t\t<text class=\"price-value\">¥{{item.detail.price / 100}}起</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<text class=\"time\">收藏于 {{formatDate(item.create_date)}}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"action-box\">\n\t\t\t\t\t\t<button class=\"action-btn\" @click=\"cancelFavorite(item, index)\">\n\t\t\t\t\t\t\t<uni-icons type=\"trash\" size=\"16\" color=\"#666\"></uni-icons>\n\t\t\t\t\t\t\t<text>取消收藏</text>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button class=\"action-btn\" @click=\"share(item)\">\n\t\t\t\t\t\t\t<uni-icons type=\"redo\" size=\"16\" color=\"#666\"></uni-icons>\n\t\t\t\t\t\t\t<text>分享</text>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</template>\n\n\t\t\t<!-- 旅行计划列表 -->\n\t\t\t<template v-else>\n\t\t\t\t<view class=\"plan-favorite-item\" v-for=\"(item, index) in favoriteList\" :key=\"index\">\n\t\t\t\t\t<!-- 已删除的计划显示 -->\n\t\t\t\t\t<view class=\"deleted-item\" v-if=\"item.is_deleted\">\n\t\t\t\t\t\t<uni-icons type=\"info\" size=\"20\" color=\"#999\"></uni-icons>\n\t\t\t\t\t\t<text class=\"deleted-text\">该旅行计划已不存在</text>\n\t\t\t\t\t\t<button class=\"remove-btn\" @click=\"cancelFavorite(item, index)\">移除</button>\n\t\t\t\t\t</view>\n\t\t\t\t\t<!-- 正常计划显示 -->\n\t\t\t\t\t<view class=\"content\" v-else @click=\"goToDetail(item)\">\n\t\t\t\t\t\t<!-- 用户信息 -->\n\t\t\t\t\t\t<view class=\"user-info\">\n\t\t\t\t\t\t\t<image \n\t\t\t\t\t\t\t\t:src=\"item.detail.user_info?.avatar || '/static/default-avatar.png'\" \n\t\t\t\t\t\t\t\tmode=\"aspectFill\" \n\t\t\t\t\t\t\t\tclass=\"avatar\"\n\t\t\t\t\t\t\t></image>\n\t\t\t\t\t\t\t<text class=\"username\">{{ item.detail.user_info?.username || '用户' }}</text>\n\t\t\t\t\t\t\t<text class=\"time\">{{ formatDate(item.create_date) }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<!-- 计划标题和状态 -->\n\t\t\t\t\t\t<view class=\"plan-header\">\n\t\t\t\t\t\t\t<text class=\"plan-title\">{{ item.detail.title }}</text>\n\t\t\t\t\t\t\t<text :class=\"['status-tag', getStatusClass(item.detail.status)]\">\n\t\t\t\t\t\t\t\t{{ getStatusText(item.detail.status) }}\n\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<!-- 计划日期 -->\n\t\t\t\t\t\t<view class=\"plan-dates\">\n\t\t\t\t\t\t\t<uni-icons type=\"calendar\" size=\"16\" color=\"#666\"></uni-icons>\n\t\t\t\t\t\t\t<text>{{ formatDate(item.detail.start_date) }} - {{ formatDate(item.detail.end_date) }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<!-- 计划描述 -->\n\t\t\t\t\t\t<view class=\"plan-description\" v-if=\"item.detail.description\">\n\t\t\t\t\t\t\t{{ item.detail.description }}\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<!-- 景点统计 -->\n\t\t\t\t\t\t<view class=\"plan-stats\" v-if=\"item.detail.spots && item.detail.spots.length > 0\">\n\t\t\t\t\t\t\t<uni-icons type=\"location\" size=\"16\" color=\"#666\"></uni-icons>\n\t\t\t\t\t\t\t<text>{{ item.detail.spots.length }}个景点</text>\n\t\t\t\t\t\t\t<text class=\"duration\">{{ getDuration(item.detail.start_date, item.detail.end_date) }}天行程</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<view class=\"action-box\">\n\t\t\t\t\t\t<button class=\"action-btn\" @click=\"cancelFavorite(item, index)\">\n\t\t\t\t\t\t\t<uni-icons type=\"trash\" size=\"16\" color=\"#666\"></uni-icons>\n\t\t\t\t\t\t\t<text>取消收藏</text>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button class=\"action-btn\" @click=\"share(item)\">\n\t\t\t\t\t\t\t<uni-icons type=\"redo\" size=\"16\" color=\"#666\"></uni-icons>\n\t\t\t\t\t\t\t<text>分享</text>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</template>\n\t\t\t\n\t\t\t<!-- 加载更多 -->\n\t\t\t<view class=\"loading\" v-if=\"loading\">\n\t\t\t\t<text>正在加载...</text>\n\t\t\t</view>\n\t\t\t<view class=\"no-more\" v-if=\"noMore\">\n\t\t\t\t<text>没有更多了</text>\n\t\t\t</view>\n\t\t</scroll-view>\n\t</view>\n</template>\n\n<script>\n/**\n * 收藏页面\n * @description 展示用户收藏的景点和旅行计划列表\n */\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tactiveTab: 'spot', // 当前激活的标签：spot或plan\n\t\t\tfavoriteList: [],\n\t\t\tpage: 1,\n\t\t\tpageSize: 10,\n\t\t\tloading: false,\n\t\t\tnoMore: false,\n\t\t\tisRefreshing: false\n\t\t}\n\t},\n\tonShow() {\n\t\t// 每次显示页面时刷新数据\n\t\tthis.refresh()\n\t},\n\tmethods: {\n\t\t// 切换标签\n\t\tswitchTab(tab) {\n\t\t\tif (this.activeTab !== tab) {\n\t\t\t\tthis.activeTab = tab\n\t\t\t\tthis.refresh()\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 获取收藏列表\n\t\tasync getFavoriteList() {\n\t\t\tif (this.loading || this.noMore) return\n\t\t\tthis.loading = true\n\t\t\t\n\t\t\ttry {\n\t\t\t\tconst uid = uni.getStorageSync('userInfo')\n\t\t\t\tconst res = await uniCloud.callFunction({\n\t\t\t\t\tname: 'get-favorites',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tuid: uid.id,\n\t\t\t\t\t\tpage: this.page,\n\t\t\t\t\t\tpageSize: this.pageSize,\n\t\t\t\t\t\ttype: this.activeTab\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\tif (res.result.code === 0) {\n\t\t\t\t\tconst { list, total, deleted_count } = res.result.data\n\t\t\t\t\t\n\t\t\t\t\t// 如果有被删除的项目,显示提示\n\t\t\t\t\tif (deleted_count > 0) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: `${deleted_count}个${this.activeTab === 'spot' ? '景点' : '旅行计划'}已被删除`,\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (this.page === 1) {\n\t\t\t\t\t\tthis.favoriteList = list\n\t\t\t\t\t\tconsole.log(\"this.favoriteList\",this.favoriteList)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.favoriteList = [...this.favoriteList, ...list]\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tthis.noMore = this.favoriteList.length >= total\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error('获取收藏列表失败:', e)\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '获取收藏列表失败',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t}\n\t\t\t\n\t\t\tthis.loading = false\n\t\t},\n\t\t\n\t\t// 取消收藏\n\t\tasync cancelFavorite(item, index) {\n\t\t\tconst message = item.is_deleted \n\t\t\t\t? `确定要移除该${this.activeTab === 'spot' ? '景点' : '旅行计划'}吗？`\n\t\t\t\t: `确定要取消收藏该${this.activeTab === 'spot' ? '景点' : '旅行计划'}吗？`\n\t\t\t\t\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: message,\n\t\t\t\tsuccess: async res => {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst uid = uni.getStorageSync('userInfo')\n\t\t\t\t\t\t\tconst res = await uniCloud.callFunction({\n\t\t\t\t\t\t\t\tname: 'toggle-favorite',\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\ttype: this.activeTab,\n\t\t\t\t\t\t\t\t\t...(this.activeTab === 'spot' \n\t\t\t\t\t\t\t\t\t\t? { spotId: item.spot_id }\n\t\t\t\t\t\t\t\t\t\t: { planId: item.plan_id }\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tuid: uid.id\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\tif (res.result.code === 0) {\n\t\t\t\t\t\t\t\tthis.favoriteList.splice(index, 1)\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: item.is_deleted ? '已移除' : '已取消收藏',\n\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tconsole.error('操作失败:', e)\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '操作失败',\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t\n\t\t// 下拉刷新\n\t\tasync refresh() {\n\t\t\tthis.isRefreshing = true\n\t\t\tthis.page = 1\n\t\t\tthis.noMore = false\n\t\t\tawait this.getFavoriteList()\n\t\t\tthis.isRefreshing = false\n\t\t},\n\t\t\n\t\t// 加载更多\n\t\tloadMore() {\n\t\t\tif (!this.noMore) {\n\t\t\t\tthis.page++\n\t\t\t\tthis.getFavoriteList()\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 分享\n\t\tshare(item) {\n\t\t\tuni.showActionSheet({\n\t\t\t\titemList: ['分享到微信', '复制链接'],\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tif (res.tapIndex === 0) {\n\t\t\t\t\t\t// TODO: 调用微信分享\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst path = this.activeTab === 'spot' \n\t\t\t\t\t\t\t? `/pages/spots/detail?id=${item.spot_id}`\n\t\t\t\t\t\t\t: `/pages/plans/plan-detail?id=${item.plan_id}`\n\t\t\t\t\t\tuni.setClipboardData({\n\t\t\t\t\t\t\tdata: `https://example.com${path}`,\n\t\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: '链接已复制',\n\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t\n\t\t// 跳转到详情页\n\t\tgoToDetail(item) {\n\t\t\tif (item.is_deleted) return\n\t\t\t\n\t\t\tconst url = this.activeTab === 'spot' \n\t\t\t\t? `/pages/spots/detail?id=${item.spot_id}`\n\t\t\t\t: `/pages/plans/plan-detail?id=${item.plan_id}`\n\t\t\t\n\t\t\tuni.navigateTo({ url })\n\t\t},\n\t\t\n\t\t// 跳转到列表页\n\t\tgoToList() {\n\t\t\tif (this.activeTab === 'spot') {\n\t\t\t\tuni.switchTab({\n\t\t\t\t\turl: '/pages/spots/spots'\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tuni.switchTab({\n\t\t\t\t\turl: '/pages/plans/public-plans'\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 格式化日期\n\t\tformatDate(timestamp) {\n\t\t\tconst date = new Date(timestamp)\n\t\t\treturn `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`\n\t\t},\n\t\t\n\t\t// 获取状态文本\n\t\tgetStatusText(status) {\n\t\t\tconst statusMap = {\n\t\t\t\t0: '计划中',\n\t\t\t\t1: '进行中',\n\t\t\t\t2: '已完成'\n\t\t\t}\n\t\t\treturn statusMap[status] || '未知'\n\t\t},\n\t\t\n\t\t// 获取状态样式类\n\t\tgetStatusClass(status) {\n\t\t\tconst statusMap = {\n\t\t\t\t0: 'status-planned',\n\t\t\t\t1: 'status-ongoing',\n\t\t\t\t2: 'status-completed'\n\t\t\t}\n\t\t\treturn statusMap[status] || ''\n\t\t},\n\t\t\n\t\t// 获取持续时间\n\t\tgetDuration(startDate, endDate) {\n\t\t\tconst start = new Date(startDate)\n\t\t\tconst end = new Date(endDate)\n\t\t\tconst diffTime = Math.abs(end - start)\n\t\t\tconst diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))\n\t\t\treturn diffDays\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n.container {\n\tmin-height: 100vh;\n\tbackground-color: #f5f5f5;\n}\n\n.tab-bar {\n\tdisplay: flex;\n\tbackground-color: #fff;\n\tpadding: 20rpx 0;\n\tposition: sticky;\n\ttop: 0;\n\tz-index: 1;\n\t\n\t.tab-item {\n\t\tflex: 1;\n\t\ttext-align: center;\n\t\tfont-size: 28rpx;\n\t\tcolor: #666;\n\t\tposition: relative;\n\t\tpadding: 20rpx 0;\n\t\t\n\t\t&.active {\n\t\t\tcolor: #2979ff;\n\t\t\tfont-weight: bold;\n\t\t\t\n\t\t\t&::after {\n\t\t\t\tcontent: '';\n\t\t\t\tposition: absolute;\n\t\t\t\tbottom: 0;\n\t\t\t\tleft: 50%;\n\t\t\t\ttransform: translateX(-50%);\n\t\t\t\twidth: 40rpx;\n\t\t\t\theight: 4rpx;\n\t\t\t\tbackground-color: #2979ff;\n\t\t\t\tborder-radius: 2rpx;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.empty {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tpadding-top: 200rpx;\n\t\n\timage {\n\t\twidth: 400rpx;\n\t\theight: 400rpx;\n\t\tmargin-bottom: 40rpx;\n\t}\n\t\n\ttext {\n\t\tfont-size: 28rpx;\n\t\tcolor: #999;\n\t\tmargin-bottom: 40rpx;\n\t}\n\t\n\t.go-btn {\n\t\twidth: 300rpx;\n\t\theight: 80rpx;\n\t\tline-height: 80rpx;\n\t\ttext-align: center;\n\t\tbackground-color: #2979ff;\n\t\tcolor: #fff;\n\t\tborder-radius: 40rpx;\n\t\tfont-size: 28rpx;\n\t}\n}\n\n.favorite-list {\n\theight: calc(100vh - 88rpx);\n}\n\n.spot-favorite-item {\n\tbackground-color: #fff;\n\tmargin: 20rpx;\n\tborder-radius: 12rpx;\n\toverflow: hidden;\n\tbox-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.05);\n\t\n\t.content {\n\t\tpadding: 0;\n\t}\n\t\n\t.spot-image {\n\t\twidth: 100%;\n\t\theight: 360rpx;\n\t\tborder-radius: 12rpx 12rpx 0 0;\n\t}\n\t\n\t.info {\n\t\tpadding: 24rpx;\n\t}\n\t\n\t.name-box {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tmargin-bottom: 16rpx;\n\t\t\n\t\t.name {\n\t\t\tfont-size: 32rpx;\n\t\t\tfont-weight: bold;\n\t\t\tcolor: #333;\n\t\t\tflex: 1;\n\t\t\tmargin-right: 20rpx;\n\t\t}\n\t\t\n\t\t.rating {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\t\n\t\t\t.score {\n\t\t\t\tfont-size: 26rpx;\n\t\t\t\tcolor: #ff9500;\n\t\t\t\tmargin-left: 6rpx;\n\t\t\t\tfont-weight: bold;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t.location {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tmargin-bottom: 16rpx;\n\t\t\n\t\t.address {\n\t\t\tfont-size: 26rpx;\n\t\t\tcolor: #666;\n\t\t\tmargin-left: 8rpx;\n\t\t\t@include text-ellipsis;\n\t\t}\n\t}\n\t\n\t.tag-list {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tmargin-bottom: 16rpx;\n\t\t\n\t\t.tag {\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #2979ff;\n\t\t\tbackground-color: rgba(41, 121, 255, 0.1);\n\t\t\tpadding: 4rpx 16rpx;\n\t\t\tborder-radius: 20rpx;\n\t\t\tmargin-right: 16rpx;\n\t\t\tmargin-bottom: 12rpx;\n\t\t}\n\t}\n\t\n\t.bottom-info {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\t\n\t\t.price {\n\t\t\tdisplay: flex;\n\t\t\talign-items: baseline;\n\t\t\t\n\t\t\t.price-label {\n\t\t\t\tfont-size: 24rpx;\n\t\t\t\tcolor: #666;\n\t\t\t\tmargin-right: 8rpx;\n\t\t\t}\n\t\t\t\n\t\t\t.price-value {\n\t\t\t\tfont-size: 32rpx;\n\t\t\t\tcolor: #ff5a5f;\n\t\t\t\tfont-weight: bold;\n\t\t\t}\n\t\t}\n\t\t\n\t\t.time {\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #999;\n\t\t}\n\t}\n\t\n\t.action-box {\n\t\tdisplay: flex;\n\t\tborder-top: 2rpx solid #f5f5f5;\n\t\t\n\t\t.action-btn {\n\t\t\tflex: 1;\n\t\t\theight: 80rpx;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tfont-size: 28rpx;\n\t\t\tcolor: #666;\n\t\t\tbackground-color: #fff;\n\t\t\t\n\t\t\t&:first-child {\n\t\t\t\tborder-right: 2rpx solid #f5f5f5;\n\t\t\t}\n\t\t\t\n\t\t\t.uni-icons {\n\t\t\t\tmargin-right: 8rpx;\n\t\t\t}\n\t\t\t\n\t\t\t&:active {\n\t\t\t\tbackground-color: #f8f8f8;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.plan-favorite-item {\n\tbackground-color: #fff;\n\tmargin: 20rpx;\n\tborder-radius: 12rpx;\n\toverflow: hidden;\n\tbox-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.05);\n\t\n\t.content {\n\t\tpadding: 0;\n\t}\n\t\n\t.user-info {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tpadding: 24rpx;\n\t\t\n\t\t.avatar {\n\t\t\twidth: 40rpx;\n\t\t\theight: 40rpx;\n\t\t\tborder-radius: 50%;\n\t\t\tmargin-right: 16rpx;\n\t\t}\n\t\t\n\t\t.username {\n\t\t\tfont-size: 28rpx;\n\t\t\tfont-weight: bold;\n\t\t\tcolor: #333;\n\t\t}\n\t\t\n\t\t.time {\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #999;\n\t\t}\n\t}\n\t\n\t.plan-header {\n\t\tpadding: 24rpx;\n\t\tborder-bottom: 2rpx solid #f5f5f5;\n\t\t\n\t\t.plan-title {\n\t\t\tfont-size: 32rpx;\n\t\t\tfont-weight: bold;\n\t\t\tcolor: #333;\n\t\t}\n\t\t\n\t\t.status-tag {\n\t\t\tdisplay: inline-block;\n\t\t\tfont-size: 24rpx;\n\t\t\tpadding: 4rpx 16rpx;\n\t\t\tborder-radius: 20rpx;\n\t\t\tmargin-left: 16rpx;\n\t\t\t\n\t\t\t&.status-planned {\n\t\t\t\tcolor: #2979ff;\n\t\t\t\tbackground-color: rgba(41, 121, 255, 0.1);\n\t\t\t}\n\t\t\t\n\t\t\t&.status-ongoing {\n\t\t\t\tcolor: #ff9500;\n\t\t\t\tbackground-color: rgba(255, 149, 0, 0.1);\n\t\t\t}\n\t\t\t\n\t\t\t&.status-completed {\n\t\t\t\tcolor: #52c41a;\n\t\t\t\tbackground-color: rgba(82, 196, 26, 0.1);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t.plan-dates {\n\t\tpadding: 24rpx;\n\t\tborder-bottom: 2rpx solid #f5f5f5;\n\t\t\n\t\t.uni-icons {\n\t\t\tmargin-right: 8rpx;\n\t\t}\n\t\t\n\t\ttext {\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #666;\n\t\t}\n\t}\n\t\n\t.plan-description {\n\t\tpadding: 24rpx;\n\t\tfont-size: 28rpx;\n\t\tcolor: #666;\n\t}\n\t\n\t.plan-stats {\n\t\tpadding: 24rpx;\n\t\tborder-top: 2rpx solid #f5f5f5;\n\t\t\n\t\t.uni-icons {\n\t\t\tmargin-right: 8rpx;\n\t\t}\n\t\t\n\t\ttext {\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #666;\n\t\t}\n\t\t\n\t\t.duration {\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #999;\n\t\t}\n\t}\n\t\n\t.action-box {\n\t\tdisplay: flex;\n\t\tborder-top: 2rpx solid #f5f5f5;\n\t\t\n\t\t.action-btn {\n\t\t\tflex: 1;\n\t\t\theight: 80rpx;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tfont-size: 28rpx;\n\t\t\tcolor: #666;\n\t\t\tbackground-color: #fff;\n\t\t\t\n\t\t\t&:first-child {\n\t\t\t\tborder-right: 2rpx solid #f5f5f5;\n\t\t\t}\n\t\t\t\n\t\t\t.uni-icons {\n\t\t\t\tmargin-right: 8rpx;\n\t\t\t}\n\t\t\t\n\t\t\t&:active {\n\t\t\t\tbackground-color: #f8f8f8;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.loading, .no-more {\n\ttext-align: center;\n\tpadding: 30rpx;\n\tcolor: #999;\n\tfont-size: 24rpx;\n}\n\n.status-tag {\n\tdisplay: inline-block;\n\tfont-size: 24rpx;\n\tpadding: 4rpx 16rpx;\n\tborder-radius: 20rpx;\n\t\n\t&.status-planned {\n\t\tcolor: #2979ff;\n\t\tbackground-color: rgba(41, 121, 255, 0.1);\n\t}\n\t\n\t&.status-ongoing {\n\t\tcolor: #ff9500;\n\t\tbackground-color: rgba(255, 149, 0, 0.1);\n\t}\n\t\n\t&.status-completed {\n\t\tcolor: #52c41a;\n\t\tbackground-color: rgba(82, 196, 26, 0.1);\n\t}\n}\n\n.deleted-item {\n\tpadding: 20rpx;\n\tbackground-color: #f8f8f8;\n\tborder-radius: 12rpx;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tmargin-bottom: 20rpx;\n\t\n\t.deleted-text {\n\t\tcolor: #999;\n\t\tfont-size: 28rpx;\n\t\tmargin-left: 10rpx;\n\t\tflex: 1;\n\t}\n\t\n\t.remove-btn {\n\t\tbackground-color: #ff5a5f;\n\t\tcolor: #fff;\n\t\tfont-size: 24rpx;\n\t\tpadding: 8rpx 20rpx;\n\t\tborder-radius: 24rpx;\n\t\tmargin: 0;\n\t\tline-height: 1.5;\n\t}\n}\n\n// 添加文本省略的mixin\n@mixin text-ellipsis {\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n</style> ","import MiniProgramPage from 'D:/programs2024to2025/ranjiangtaoprogram/first/TravelPlatformMiniProgram/pages/user/favorites.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","uniCloud","res"],"mappings":"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"}