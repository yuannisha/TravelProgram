{"version":3,"file":"public-plans.js","sources":["pages/plans/public-plans.vue","E:/HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcGxhbnMvcHVibGljLXBsYW5zLnZ1ZQ"],"sourcesContent":["<template>\n\t<view class=\"container\">\n\t\t<view class=\"header\">\n\t\t\t<view class=\"title\">旅行灵感</view>\n\t\t\t<view class=\"subtitle\">发现更多精彩旅行计划</view>\n\t\t</view>\n\t\t\n\t\t<view class=\"search-bar\">\n\t\t\t<view class=\"search-input\">\n\t\t\t\t<uni-icons type=\"search\" size=\"18\" color=\"#999\"></uni-icons>\n\t\t\t\t<input \n\t\t\t\t\ttype=\"text\" \n\t\t\t\t\tv-model=\"keyword\" \n\t\t\t\t\tplaceholder=\"搜索旅行计划\" \n\t\t\t\t\tconfirm-type=\"search\"\n\t\t\t\t\t@confirm=\"onSearch\"\n\t\t\t\t/>\n\t\t\t\t<uni-icons \n\t\t\t\t\tv-if=\"keyword\" \n\t\t\t\t\ttype=\"clear\" \n\t\t\t\t\tsize=\"18\" \n\t\t\t\t\tcolor=\"#999\" \n\t\t\t\t\t@click=\"clearKeyword\"\n\t\t\t\t></uni-icons>\n\t\t\t</view>\n\t\t\t<view class=\"search-btn\" @click=\"onSearch\">搜索</view>\n\t\t</view>\n\t\t\n\t\t<scroll-view \n\t\t\tscroll-y \n\t\t\tclass=\"plan-list\" \n\t\t\t@scrolltolower=\"loadMore\"\n\t\t\trefresher-enabled\n\t\t\t:refresher-triggered=\"refreshing\"\n\t\t\t@refresherrefresh=\"onRefresh\"\n\t\t>\n\t\t\t<view v-if=\"loading && !list.length\" class=\"loading-box\">\n\t\t\t\t<uni-load-more status=\"loading\" :content-text=\"loadingText\"></uni-load-more>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view v-else-if=\"!loading && !list.length && !isSearching\" class=\"empty-box\">\n\t\t\t\t<image src=\"/static/empty.png\" mode=\"aspectFit\"></image>\n\t\t\t\t<view class=\"empty-text\">暂无公开旅行计划</view>\n\t\t\t\t<button class=\"create-btn\" @click=\"goToCreate\">创建我的计划</button>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view v-else-if=\"!loading && !list.length && isSearching\" class=\"empty-box\">\n\t\t\t\t<image src=\"/static/empty-search.png\" mode=\"aspectFit\"></image>\n\t\t\t\t<view class=\"empty-text\">未找到相关旅行计划</view>\n\t\t\t\t<button class=\"reset-btn\" @click=\"resetSearch\">重置搜索</button>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view v-else class=\"plan-items\">\n\t\t\t\t<view \n\t\t\t\t\tv-for=\"(item, index) in list\" \n\t\t\t\t\t:key=\"item._id\" \n\t\t\t\t\tclass=\"plan-item\"\n\t\t\t\t\t@click=\"viewDetail(item._id,item.user_info)\"\n\t\t\t\t>\n\t\t\t\t\t<view class=\"user-info\">\n\t\t\t\t\t\t<image \n\t\t\t\t\t\t\t:src=\"item.user_info.avatar || '/static/default-avatar.png'\" \n\t\t\t\t\t\t\tmode=\"aspectFill\" \n\t\t\t\t\t\t\tclass=\"avatar\"\n\t\t\t\t\t\t></image>\n\t\t\t\t\t\t<text class=\"username\">{{item.user_info.nickname || item.user_info.username || '用户'}}</text>\n\t\t\t\t\t\t<view class=\"status-tag\" :class=\"'status-' + item.status\">\n\t\t\t\t\t\t\t{{statusText[item.status]}}\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<view class=\"plan-content\">\n\t\t\t\t\t\t<view class=\"plan-title\">{{item.title}}</view>\n\t\t\t\t\t\t<view class=\"plan-date\">\n\t\t\t\t\t\t\t{{formatDate(item.start_date)}} - {{formatDate(item.end_date)}}\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"plan-desc\" v-if=\"item.description\">{{item.description}}</view>\n\t\t\t\t\t\t<view class=\"plan-spots\" v-if=\"item.spots && item.spots.length\">\n\t\t\t\t\t\t\t包含 {{item.spots.length}} 个景点\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<view class=\"action-bar\">\n\t\t\t\t\t\t<view class=\"time-ago\">{{formatTimeAgo(item.create_date)}}</view>\n\t\t\t\t\t\t<view class=\"actions\">\n\t\t\t\t\t\t\t<view v-if=\"item.is_public && item.user_info._id !== userInfo.id\" class=\"action-btn like\">\n\t\t\t\t\t\t\t\t<uni-icons type=\"heart\" size=\"18\" color=\"#999\"></uni-icons>\n\t\t\t\t\t\t\t\t<text>收藏</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view v-if=\"item.is_public && item.user_info._id !== userInfo.id\" class=\"action-btn share\">\n\t\t\t\t\t\t\t\t<uni-icons type=\"redo\" size=\"18\" color=\"#999\"></uni-icons>\n\t\t\t\t\t\t\t\t<text>分享</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<uni-load-more \n\t\t\t\tv-if=\"list.length > 0\" \n\t\t\t\t:status=\"loadMoreStatus\" \n\t\t\t\t:content-text=\"loadingText\"\n\t\t\t></uni-load-more>\n\t\t</scroll-view>\n\t</view>\n</template>\n\n<script>\n\t/**\n\t * 公共旅行计划页面\n\t * @description 展示其他用户分享的旅行计划\n\t */\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tlist: [],\n\t\t\t\tloading: true,\n\t\t\t\trefreshing: false,\n\t\t\t\tpage: 1,\n\t\t\t\tpageSize: 10,\n\t\t\t\ttotal: 0,\n\t\t\t\tloadMoreStatus: 'more',\n\t\t\t\tkeyword: '',\n\t\t\t\tisSearching: false,\n\t\t\t\tloadingText: {\n\t\t\t\t\tcontentdown: '上拉加载更多',\n\t\t\t\t\tcontentrefresh: '加载中...',\n\t\t\t\t\tcontentnomore: '没有更多了'\n\t\t\t\t},\n\t\t\t\tstatusText: {\n\t\t\t\t\t0: '计划中',\n\t\t\t\t\t1: '进行中',\n\t\t\t\t\t2: '已完成'\n\t\t\t\t},\n\t\t\t\tuserInfo: uni.getStorageSync('userInfo')\n\t\t\t}\n\t\t},\n        onShow() {\n\t\t\t// 页面加载时检查登录状态\n\t\t\tconst app = getApp();\n\t\t\tapp.globalData.checkLoginStatus(true); // 修改为强制跳转\n\t\t\t\n\t\t\tthis.getPublicPlans();\n\t\t},\n\t\tonLoad() {\n\t\t\t// 页面加载时检查登录状态\n\t\t\tconst app = getApp();\n\t\t\tapp.globalData.checkLoginStatus(true); // 修改为强制跳转\n\t\t\t\n\t\t\tthis.getPublicPlans();\n\t\t},\n\t\tmethods: {\n\t\t\t/**\n\t\t\t * 获取公开旅行计划列表\n\t\t\t */\n\t\t\tasync getPublicPlans() {\n\t\t\t\ttry {\n\t\t\t\t\tthis.loading = true;\n\t\t\t\t\t\n\t\t\t\t\tconst app = getApp();\n\t\t\t\t\tconst userId = app.globalData.getUserId();\n\t\t\t\t\t\n\t\t\t\t\tconst res = await uniCloud.callFunction({\n\t\t\t\t\t\tname: 'manage-plans',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\taction: 'public', // 修正参数名称\n\t\t\t\t\t\t\tpage: this.page,\n\t\t\t\t\t\t\tpageSize: this.pageSize,\n\t\t\t\t\t\t\tkeyword: this.keyword,\n\t\t\t\t\t\t\tuser_id: userId\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tif (res.result.code === 0) {\n\t\t\t\t\t\tconst { list, total } = res.result.data;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (this.page === 1) {\n\t\t\t\t\t\t\tthis.list = list;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.list = [...this.list, ...list];\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.total = total;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (this.list.length >= total) {\n\t\t\t\t\t\t\tthis.loadMoreStatus = 'noMore';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.loadMoreStatus = 'more';\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: res.result.message || '获取失败',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error('获取公开旅行计划失败', e);\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '获取失败，请稍后重试',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t} finally {\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t\tthis.refreshing = false;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t/**\n\t\t\t * 加载更多\n\t\t\t */\n\t\t\tloadMore() {\n\t\t\t\tif (this.loadMoreStatus !== 'more' || this.loading) return;\n\t\t\t\t\n\t\t\t\tthis.page++;\n\t\t\t\tthis.loadMoreStatus = 'loading';\n\t\t\t\tthis.getPublicPlans();\n\t\t\t},\n\t\t\t\n\t\t\t/**\n\t\t\t * 下拉刷新\n\t\t\t */\n\t\t\tonRefresh() {\n\t\t\t\tthis.refreshing = true;\n\t\t\t\tthis.page = 1;\n\t\t\t\tthis.getPublicPlans();\n\t\t\t},\n\t\t\t\n\t\t\t/**\n\t\t\t * 搜索\n\t\t\t */\n\t\t\tonSearch() {\n\t\t\t\tif (!this.keyword.trim()) {\n\t\t\t\t\tif (this.isSearching) {\n\t\t\t\t\t\tthis.resetSearch();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.isSearching = true;\n\t\t\t\tthis.page = 1;\n\t\t\t\tthis.getPublicPlans();\n\t\t\t},\n\t\t\t\n\t\t\t/**\n\t\t\t * 清除关键词\n\t\t\t */\n\t\t\tclearKeyword() {\n\t\t\t\tthis.keyword = '';\n\t\t\t\tif (this.isSearching) {\n\t\t\t\t\tthis.resetSearch();\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t/**\n\t\t\t * 重置搜索\n\t\t\t */\n\t\t\tresetSearch() {\n\t\t\t\tthis.keyword = '';\n\t\t\t\tthis.isSearching = false;\n\t\t\t\tthis.page = 1;\n\t\t\t\tthis.getPublicPlans();\n\t\t\t},\n\t\t\t\n\t\t\t/**\n\t\t\t * 查看计划详情\n\t\t\t * @param {String} id 计划ID\n\t\t\t */\n\t\t\tviewDetail(id,user_info) {\n\t\t\t\tif (user_info._id === getApp().globalData.getUserId()) {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: `/pages/plans/plan-detail?id=${id}`\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: `/pages/plans/plan-detail?id=${id}&mode=view`\n\t\t\t\t});\n\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t/**\n\t\t\t * 跳转到创建页面\n\t\t\t */\n\t\t\tgoToCreate() {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/plans/plan-edit'\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t/**\n\t\t\t * 格式化日期\n\t\t\t * @param {String|Number} timestamp 时间戳\n\t\t\t * @returns {String} 格式化后的日期\n\t\t\t */\n\t\t\tformatDate(timestamp) {\n\t\t\t\tif (!timestamp) return '';\n\t\t\t\t\n\t\t\t\tconst date = new Date(timestamp);\n\t\t\t\tconst year = date.getFullYear();\n\t\t\t\tconst month = (date.getMonth() + 1).toString().padStart(2, '0');\n\t\t\t\tconst day = date.getDate().toString().padStart(2, '0');\n\t\t\t\t\n\t\t\t\treturn `${year}-${month}-${day}`;\n\t\t\t},\n\t\t\t\n\t\t\t/**\n\t\t\t * 格式化时间为多久前\n\t\t\t * @param {String|Number} timestamp 时间戳\n\t\t\t * @returns {String} 多久前\n\t\t\t */\n\t\t\tformatTimeAgo(timestamp) {\n\t\t\t\tif (!timestamp) return '';\n\t\t\t\t\n\t\t\t\tconst now = new Date();\n\t\t\t\tconst date = new Date(timestamp);\n\t\t\t\tconst diff = Math.floor((now - date) / 1000);\n\t\t\t\t\n\t\t\t\tif (diff < 60) {\n\t\t\t\t\treturn '刚刚';\n\t\t\t\t} else if (diff < 3600) {\n\t\t\t\t\treturn Math.floor(diff / 60) + '分钟前';\n\t\t\t\t} else if (diff < 86400) {\n\t\t\t\t\treturn Math.floor(diff / 3600) + '小时前';\n\t\t\t\t} else if (diff < 2592000) {\n\t\t\t\t\treturn Math.floor(diff / 86400) + '天前';\n\t\t\t\t} else if (diff < 31536000) {\n\t\t\t\t\treturn Math.floor(diff / 2592000) + '个月前';\n\t\t\t\t} else {\n\t\t\t\t\treturn Math.floor(diff / 31536000) + '年前';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n\t.container {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\theight: 100vh;\n\t\tbackground-color: #f5f5f5;\n\t}\n\t\n\t.header {\n\t\tpadding: 30rpx;\n\t\tbackground-color: #ffffff;\n\t\t\n\t\t.title {\n\t\t\tfont-size: 36rpx;\n\t\t\tfont-weight: bold;\n\t\t\tcolor: #333;\n\t\t\tmargin-bottom: 10rpx;\n\t\t}\n\t\t\n\t\t.subtitle {\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #999;\n\t\t}\n\t}\n\t\n\t.search-bar {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tpadding: 20rpx 30rpx;\n\t\tbackground-color: #ffffff;\n\t\tborder-bottom: 1rpx solid #eee;\n\t\t\n\t\t.search-input {\n\t\t\tflex: 1;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tbackground-color: #f5f5f5;\n\t\t\tborder-radius: 36rpx;\n\t\t\tpadding: 0 20rpx;\n\t\t\theight: 72rpx;\n\t\t\tmargin-right: 20rpx;\n\t\t\t\n\t\t\tinput {\n\t\t\t\tflex: 1;\n\t\t\t\theight: 72rpx;\n\t\t\t\tfont-size: 28rpx;\n\t\t\t\tmargin: 0 20rpx;\n\t\t\t}\n\t\t}\n\t\t\n\t\t.search-btn {\n\t\t\tfont-size: 28rpx;\n\t\t\tcolor: #007AFF;\n\t\t}\n\t}\n\t\n\t.plan-list {\n\t\tflex: 1;\n\t\tpadding: 20rpx;\n\t}\n\t\n\t.loading-box, .empty-box {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tpadding: 100rpx 0;\n\t\t\n\t\timage {\n\t\t\twidth: 200rpx;\n\t\t\theight: 200rpx;\n\t\t\tmargin-bottom: 30rpx;\n\t\t}\n\t\t\n\t\t.empty-text {\n\t\t\tfont-size: 28rpx;\n\t\t\tcolor: #999;\n\t\t\tmargin-bottom: 30rpx;\n\t\t}\n\t\t\n\t\t.create-btn, .reset-btn {\n\t\t\twidth: 300rpx;\n\t\t\theight: 80rpx;\n\t\t\tline-height: 80rpx;\n\t\t\ttext-align: center;\n\t\t\tfont-size: 28rpx;\n\t\t\tcolor: #ffffff;\n\t\t\tbackground-color: #007AFF;\n\t\t\tborder-radius: 40rpx;\n\t\t}\n\t\t\n\t\t.reset-btn {\n\t\t\tbackground-color: #f0f0f0;\n\t\t\tcolor: #666;\n\t\t}\n\t}\n\t\n\t.plan-items {\n\t\t.plan-item {\n\t\t\tbackground-color: #ffffff;\n\t\t\tborder-radius: 12rpx;\n\t\t\tpadding: 30rpx;\n\t\t\tmargin-bottom: 20rpx;\n\t\t\tbox-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.05);\n\t\t}\n\t\t\n\t\t.user-info {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tmargin-bottom: 20rpx;\n\t\t\t\n\t\t\t.avatar {\n\t\t\t\twidth: 60rpx;\n\t\t\t\theight: 60rpx;\n\t\t\t\tborder-radius: 50%;\n\t\t\t\tmargin-right: 16rpx;\n\t\t\t}\n\t\t\t\n\t\t\t.username {\n\t\t\t\tfont-size: 28rpx;\n\t\t\t\tcolor: #333;\n\t\t\t\tflex: 1;\n\t\t\t}\n\t\t\t\n\t\t\t.status-tag {\n\t\t\t\tfont-size: 24rpx;\n\t\t\t\tpadding: 4rpx 16rpx;\n\t\t\t\tborder-radius: 20rpx;\n\t\t\t\t\n\t\t\t\t&.status-0 {\n\t\t\t\t\tbackground-color: #e6f7ff;\n\t\t\t\t\tcolor: #1890ff;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t&.status-1 {\n\t\t\t\t\tbackground-color: #fff7e6;\n\t\t\t\t\tcolor: #fa8c16;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t&.status-2 {\n\t\t\t\t\tbackground-color: #f6ffed;\n\t\t\t\t\tcolor: #52c41a;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t.plan-content {\n\t\t\tmargin-bottom: 20rpx;\n\t\t\t\n\t\t\t.plan-title {\n\t\t\t\tfont-size: 32rpx;\n\t\t\t\tfont-weight: bold;\n\t\t\t\tcolor: #333;\n\t\t\t\tmargin-bottom: 10rpx;\n\t\t\t}\n\t\t\t\n\t\t\t.plan-date {\n\t\t\t\tfont-size: 24rpx;\n\t\t\t\tcolor: #666;\n\t\t\t\tmargin-bottom: 16rpx;\n\t\t\t}\n\t\t\t\n\t\t\t.plan-desc {\n\t\t\t\tfont-size: 28rpx;\n\t\t\t\tcolor: #666;\n\t\t\t\tmargin-bottom: 16rpx;\n\t\t\t\tline-height: 1.5;\n\t\t\t\tdisplay: -webkit-box;\n\t\t\t\t-webkit-box-orient: vertical;\n\t\t\t\t-webkit-line-clamp: 2;\n\t\t\t\toverflow: hidden;\n\t\t\t}\n\t\t\t\n\t\t\t.plan-spots {\n\t\t\t\tfont-size: 24rpx;\n\t\t\t\tcolor: #999;\n\t\t\t}\n\t\t}\n\t\t\n\t\t.action-bar {\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-between;\n\t\t\talign-items: center;\n\t\t\tpadding-top: 20rpx;\n\t\t\tborder-top: 1rpx solid #f0f0f0;\n\t\t\t\n\t\t\t.time-ago {\n\t\t\t\tfont-size: 24rpx;\n\t\t\t\tcolor: #999;\n\t\t\t}\n\t\t\t\n\t\t\t.actions {\n\t\t\t\tdisplay: flex;\n\t\t\t\t\n\t\t\t\t.action-btn {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tmargin-left: 30rpx;\n\t\t\t\t\t\n\t\t\t\t\ttext {\n\t\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\t\tcolor: #999;\n\t\t\t\t\t\tmargin-left: 6rpx;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</style> ","import MiniProgramPage from 'D:/programs2024to2025/ranjiangtaoprogram/first/TravelPlatformMiniProgram/pages/plans/public-plans.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","uniCloud"],"mappings":"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"}