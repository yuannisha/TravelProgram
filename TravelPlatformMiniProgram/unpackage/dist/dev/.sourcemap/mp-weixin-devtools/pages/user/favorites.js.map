{"version":3,"names":["_sfc_main","data","activeTab","favoriteList","page","pageSize","loading","noMore","isRefreshing","onShow","refresh","methods","switchTab","tab","getFavoriteList","_this","_asyncToGenerator2","_regeneratorRuntime2","mark","_callee","uid","res","_res$result$data","list","total","wrap","_callee$","_context","prev","next","abrupt","common_vendor","index","getStorageSync","er","callFunction","name","id","type","sent","result","code","__f__","concat","_toConsumableArray2","length","t0","showToast","title","icon","stop","cancelFavorite","item","_this2","_callee3","_callee3$","_context3","showModal","content","success","_success","_callee2","res2","_callee2$","_context2","confirm","_objectSpread2","spotId","detail","_id","planId","splice","_x","apply","arguments","_this3","_callee4","_callee4$","_context4","loadMore","share","_this4","showActionSheet","itemList","tapIndex","path","setClipboardData","goToDetail","navigateTo","url","goToList","formatDate","timestamp","date","Date","getFullYear","String","getMonth","padStart","getDate","getStatusText","status","statusMap","getStatusClass","getDuration","startDate","endDate","start","end","diffTime","Math","abs","diffDays","ceil","wx","createPage","MiniProgramPage"],"sources":["favorites.vue","E:/HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdXNlci9mYXZvcml0ZXMudnVl"],"sourcesContent":["<template>\n\t<view class=\"container\">\n\t\t<!-- 分类切换 -->\n\t\t<view class=\"tab-bar\">\n\t\t\t<view \n\t\t\t\tclass=\"tab-item\" \n\t\t\t\t:class=\"{ active: activeTab === 'spot' }\"\n\t\t\t\t@click=\"switchTab('spot')\"\n\t\t\t>\n\t\t\t\t景点收藏\n\t\t\t</view>\n\t\t\t<view \n\t\t\t\tclass=\"tab-item\" \n\t\t\t\t:class=\"{ active: activeTab === 'plan' }\"\n\t\t\t\t@click=\"switchTab('plan')\"\n\t\t\t>\n\t\t\t\t计划收藏\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- 空状态 -->\n\t\t<view class=\"empty\" v-if=\"favoriteList.length === 0\">\n\t\t\t<image src=\"/static/empty/no-favorites.png\" mode=\"aspectFit\"></image>\n\t\t\t<text>暂无{{activeTab === 'spot' ? '收藏的景点' : '收藏的旅行计划'}}</text>\n\t\t\t<button class=\"go-btn\" @click=\"goToList\">{{activeTab === 'spot' ? '去发现景点' : '去发现旅行计划'}}</button>\n\t\t</view>\n\t\t\n\t\t<!-- 收藏列表 -->\n\t\t<scroll-view \n\t\t\tv-else\n\t\t\tclass=\"favorite-list\" \n\t\t\tscroll-y \n\t\t\t@scrolltolower=\"loadMore\"\n\t\t\trefresher-enabled\n\t\t\t:refresher-triggered=\"isRefreshing\"\n\t\t\t@refresherrefresh=\"refresh\"\n\t\t>\n\t\t\t<!-- 景点列表 -->\n\t\t\t<template v-if=\"activeTab === 'spot'\">\n\t\t\t\t<view class=\"spot-favorite-item\" v-for=\"(item, index) in favoriteList\" :key=\"index\">\n\t\t\t\t\t<view class=\"content\" @click=\"goToDetail(item)\">\n\t\t\t\t\t\t<image class=\"spot-image\" :src=\"item.detail.imageUrl\" mode=\"aspectFill\"></image>\n\t\t\t\t\t\t<view class=\"info\">\n\t\t\t\t\t\t\t<view class=\"name-box\">\n\t\t\t\t\t\t\t\t<text class=\"name\">{{item.detail.name}}</text>\n\t\t\t\t\t\t\t\t<view class=\"rating\">\n\t\t\t\t\t\t\t\t\t<uni-icons type=\"star-filled\" size=\"14\" color=\"#ff9500\"></uni-icons>\n\t\t\t\t\t\t\t\t\t<text class=\"score\">{{item.detail.rating}}分</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<view class=\"location\" v-if=\"item.detail.address\">\n\t\t\t\t\t\t\t\t<uni-icons type=\"location\" size=\"14\" color=\"#666\"></uni-icons>\n\t\t\t\t\t\t\t\t<text class=\"address\">{{item.detail.address}}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<view class=\"tag-list\" v-if=\"item.detail.tags && item.detail.tags.length > 0\">\n\t\t\t\t\t\t\t\t<text class=\"tag\" v-for=\"(tag, tagIndex) in item.detail.tags\" :key=\"tagIndex\">{{tag}}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<view class=\"bottom-info\">\n\t\t\t\t\t\t\t\t<view class=\"price\">\n\t\t\t\t\t\t\t\t\t<text class=\"price-label\">门票</text>\n\t\t\t\t\t\t\t\t\t<text class=\"price-value\">¥{{item.detail.price / 100}}起</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<text class=\"time\">收藏于 {{formatDate(item.create_date)}}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"action-box\">\n\t\t\t\t\t\t<button class=\"action-btn\" @click=\"cancelFavorite(item, index)\">\n\t\t\t\t\t\t\t<uni-icons type=\"trash\" size=\"16\" color=\"#666\"></uni-icons>\n\t\t\t\t\t\t\t<text>取消收藏</text>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button class=\"action-btn\" @click=\"share(item)\">\n\t\t\t\t\t\t\t<uni-icons type=\"redo\" size=\"16\" color=\"#666\"></uni-icons>\n\t\t\t\t\t\t\t<text>分享</text>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</template>\n\n\t\t\t<!-- 旅行计划列表 -->\n\t\t\t<template v-else>\n\t\t\t\t<view class=\"plan-favorite-item\" v-for=\"(item, index) in favoriteList\" :key=\"index\">\n\t\t\t\t\t<view class=\"content\" @click=\"goToDetail(item)\">\n\t\t\t\t\t\t<!-- 用户信息 -->\n\t\t\t\t\t\t<view class=\"user-info\">\n\t\t\t\t\t\t\t<image \n\t\t\t\t\t\t\t\t:src=\"item.detail.user_info?.avatar || '/static/default-avatar.png'\" \n\t\t\t\t\t\t\t\tmode=\"aspectFill\" \n\t\t\t\t\t\t\t\tclass=\"avatar\"\n\t\t\t\t\t\t\t></image>\n\t\t\t\t\t\t\t<text class=\"username\">{{ item.detail.user_info?.username || '用户' }}</text>\n\t\t\t\t\t\t\t<text class=\"time\">{{ formatDate(item.create_date) }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<!-- 计划标题和状态 -->\n\t\t\t\t\t\t<view class=\"plan-header\">\n\t\t\t\t\t\t\t<text class=\"plan-title\">{{ item.detail.title }}</text>\n\t\t\t\t\t\t\t<text :class=\"['status-tag', getStatusClass(item.detail.status)]\">\n\t\t\t\t\t\t\t\t{{ getStatusText(item.detail.status) }}\n\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<!-- 计划日期 -->\n\t\t\t\t\t\t<view class=\"plan-dates\">\n\t\t\t\t\t\t\t<uni-icons type=\"calendar\" size=\"16\" color=\"#666\"></uni-icons>\n\t\t\t\t\t\t\t<text>{{ formatDate(item.detail.start_date) }} - {{ formatDate(item.detail.end_date) }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<!-- 计划描述 -->\n\t\t\t\t\t\t<view class=\"plan-description\" v-if=\"item.detail.description\">\n\t\t\t\t\t\t\t{{ item.detail.description }}\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<!-- 景点统计 -->\n\t\t\t\t\t\t<view class=\"plan-stats\" v-if=\"item.detail.spots && item.detail.spots.length > 0\">\n\t\t\t\t\t\t\t<uni-icons type=\"location\" size=\"16\" color=\"#666\"></uni-icons>\n\t\t\t\t\t\t\t<text>{{ item.detail.spots.length }}个景点</text>\n\t\t\t\t\t\t\t<text class=\"duration\">{{ getDuration(item.detail.start_date, item.detail.end_date) }}天行程</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<view class=\"action-box\">\n\t\t\t\t\t\t<button class=\"action-btn\" @click=\"cancelFavorite(item, index)\">\n\t\t\t\t\t\t\t<uni-icons type=\"trash\" size=\"16\" color=\"#666\"></uni-icons>\n\t\t\t\t\t\t\t<text>取消收藏</text>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button class=\"action-btn\" @click=\"share(item)\">\n\t\t\t\t\t\t\t<uni-icons type=\"redo\" size=\"16\" color=\"#666\"></uni-icons>\n\t\t\t\t\t\t\t<text>分享</text>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</template>\n\t\t\t\n\t\t\t<!-- 加载更多 -->\n\t\t\t<view class=\"loading\" v-if=\"loading\">\n\t\t\t\t<text>正在加载...</text>\n\t\t\t</view>\n\t\t\t<view class=\"no-more\" v-if=\"noMore\">\n\t\t\t\t<text>没有更多了</text>\n\t\t\t</view>\n\t\t</scroll-view>\n\t</view>\n</template>\n\n<script>\n/**\n * 收藏页面\n * @description 展示用户收藏的景点和旅行计划列表\n */\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tactiveTab: 'spot', // 当前激活的标签：spot或plan\n\t\t\tfavoriteList: [],\n\t\t\tpage: 1,\n\t\t\tpageSize: 10,\n\t\t\tloading: false,\n\t\t\tnoMore: false,\n\t\t\tisRefreshing: false\n\t\t}\n\t},\n\tonShow() {\n\t\t// 每次显示页面时刷新数据\n\t\tthis.refresh()\n\t},\n\tmethods: {\n\t\t// 切换标签\n\t\tswitchTab(tab) {\n\t\t\tif (this.activeTab !== tab) {\n\t\t\t\tthis.activeTab = tab\n\t\t\t\tthis.refresh()\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 获取收藏列表\n\t\tasync getFavoriteList() {\n\t\t\tif (this.loading || this.noMore) return\n\t\t\tthis.loading = true\n\t\t\t\n\t\t\ttry {\n\t\t\t\tconst uid = uni.getStorageSync('userInfo')\n\t\t\t\tconst res = await uniCloud.callFunction({\n\t\t\t\t\tname: 'get-favorites',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tuid: uid.id,\n\t\t\t\t\t\tpage: this.page,\n\t\t\t\t\t\tpageSize: this.pageSize,\n\t\t\t\t\t\ttype: this.activeTab\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\tif (res.result.code === 0) {\n\t\t\t\t\tconst { list, total } = res.result.data\n\t\t\t\t\t\n\t\t\t\t\tif (this.page === 1) {\n\t\t\t\t\t\tthis.favoriteList = list\n\t\t\t\t\t\tconsole.log(\"this.favoriteList\",this.favoriteList)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.favoriteList = [...this.favoriteList, ...list]\n\t\t\t\t\t\tconsole.log(\"this.favoriteList\",this.favoriteList)\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tthis.noMore = this.favoriteList.length >= total\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error('获取收藏列表失败:', e)\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '获取收藏列表失败',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t}\n\t\t\t\n\t\t\tthis.loading = false\n\t\t},\n\t\t\n\t\t// 取消收藏\n\t\tasync cancelFavorite(item, index) {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: `确定要取消收藏该${this.activeTab === 'spot' ? '景点' : '旅行计划'}吗？`,\n\t\t\t\tsuccess: async res => {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst uid = uni.getStorageSync('userInfo')\n\t\t\t\t\t\t\tconst res = await uniCloud.callFunction({\n\t\t\t\t\t\t\t\tname: 'toggle-favorite',\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\ttype: this.activeTab,\n\t\t\t\t\t\t\t\t\t...(this.activeTab === 'spot' \n\t\t\t\t\t\t\t\t\t\t? { spotId: item.detail._id }\n\t\t\t\t\t\t\t\t\t\t: { planId: item.detail._id }\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tuid: uid.id\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\tif (res.result.code === 0) {\n\t\t\t\t\t\t\t\tthis.favoriteList.splice(index, 1)\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: '已取消收藏',\n\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tconsole.error('取消收藏失败:', e)\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '操作失败',\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t\n\t\t// 下拉刷新\n\t\tasync refresh() {\n\t\t\tthis.isRefreshing = true\n\t\t\tthis.page = 1\n\t\t\tthis.noMore = false\n\t\t\tawait this.getFavoriteList()\n\t\t\tthis.isRefreshing = false\n\t\t},\n\t\t\n\t\t// 加载更多\n\t\tloadMore() {\n\t\t\tif (!this.noMore) {\n\t\t\t\tthis.page++\n\t\t\t\tthis.getFavoriteList()\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 分享\n\t\tshare(item) {\n\t\t\tuni.showActionSheet({\n\t\t\t\titemList: ['分享到微信', '复制链接'],\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tif (res.tapIndex === 0) {\n\t\t\t\t\t\t// TODO: 调用微信分享\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst path = this.activeTab === 'spot' \n\t\t\t\t\t\t\t? `/pages/spots/detail?id=${item.detail._id}`\n\t\t\t\t\t\t\t: `/pages/plans/plan-detail?id=${item.detail._id}`\n\t\t\t\t\t\tuni.setClipboardData({\n\t\t\t\t\t\t\tdata: `https://example.com${path}`,\n\t\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: '链接已复制',\n\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t\n\t\t// 跳转到详情页\n\t\tgoToDetail(item) {\n\t\t\tconst path = this.activeTab === 'spot' \n\t\t\t\t? `/pages/spots/detail?id=${item.detail._id}`\n\t\t\t\t: `/pages/plans/plan-detail?id=${item.detail._id}`\n\t\t\tuni.navigateTo({\n\t\t\t\turl: path\n\t\t\t})\n\t\t},\n\t\t\n\t\t// 跳转到列表页\n\t\tgoToList() {\n\t\t\tif (this.activeTab === 'spot') {\n\t\t\t\tuni.switchTab({\n\t\t\t\t\turl: '/pages/spots/spots'\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tuni.switchTab({\n\t\t\t\t\turl: '/pages/plans/public-plans'\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 格式化日期\n\t\tformatDate(timestamp) {\n\t\t\tconst date = new Date(timestamp)\n\t\t\treturn `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`\n\t\t},\n\t\t\n\t\t// 获取状态文本\n\t\tgetStatusText(status) {\n\t\t\tconst statusMap = {\n\t\t\t\t0: '计划中',\n\t\t\t\t1: '进行中',\n\t\t\t\t2: '已完成'\n\t\t\t}\n\t\t\treturn statusMap[status] || '未知'\n\t\t},\n\t\t\n\t\t// 获取状态样式类\n\t\tgetStatusClass(status) {\n\t\t\tconst statusMap = {\n\t\t\t\t0: 'status-planned',\n\t\t\t\t1: 'status-ongoing',\n\t\t\t\t2: 'status-completed'\n\t\t\t}\n\t\t\treturn statusMap[status] || ''\n\t\t},\n\t\t\n\t\t// 获取持续时间\n\t\tgetDuration(startDate, endDate) {\n\t\t\tconst start = new Date(startDate)\n\t\t\tconst end = new Date(endDate)\n\t\t\tconst diffTime = Math.abs(end - start)\n\t\t\tconst diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))\n\t\t\treturn diffDays\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n.container {\n\tmin-height: 100vh;\n\tbackground-color: #f5f5f5;\n}\n\n.tab-bar {\n\tdisplay: flex;\n\tbackground-color: #fff;\n\tpadding: 20rpx 0;\n\tposition: sticky;\n\ttop: 0;\n\tz-index: 1;\n\t\n\t.tab-item {\n\t\tflex: 1;\n\t\ttext-align: center;\n\t\tfont-size: 28rpx;\n\t\tcolor: #666;\n\t\tposition: relative;\n\t\tpadding: 20rpx 0;\n\t\t\n\t\t&.active {\n\t\t\tcolor: #2979ff;\n\t\t\tfont-weight: bold;\n\t\t\t\n\t\t\t&::after {\n\t\t\t\tcontent: '';\n\t\t\t\tposition: absolute;\n\t\t\t\tbottom: 0;\n\t\t\t\tleft: 50%;\n\t\t\t\ttransform: translateX(-50%);\n\t\t\t\twidth: 40rpx;\n\t\t\t\theight: 4rpx;\n\t\t\t\tbackground-color: #2979ff;\n\t\t\t\tborder-radius: 2rpx;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.empty {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tpadding-top: 200rpx;\n\t\n\timage {\n\t\twidth: 400rpx;\n\t\theight: 400rpx;\n\t\tmargin-bottom: 40rpx;\n\t}\n\t\n\ttext {\n\t\tfont-size: 28rpx;\n\t\tcolor: #999;\n\t\tmargin-bottom: 40rpx;\n\t}\n\t\n\t.go-btn {\n\t\twidth: 300rpx;\n\t\theight: 80rpx;\n\t\tline-height: 80rpx;\n\t\ttext-align: center;\n\t\tbackground-color: #2979ff;\n\t\tcolor: #fff;\n\t\tborder-radius: 40rpx;\n\t\tfont-size: 28rpx;\n\t}\n}\n\n.favorite-list {\n\theight: calc(100vh - 88rpx);\n}\n\n.spot-favorite-item {\n\tbackground-color: #fff;\n\tmargin: 20rpx;\n\tborder-radius: 12rpx;\n\toverflow: hidden;\n\tbox-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.05);\n\t\n\t.content {\n\t\tpadding: 0;\n\t}\n\t\n\t.spot-image {\n\t\twidth: 100%;\n\t\theight: 360rpx;\n\t\tborder-radius: 12rpx 12rpx 0 0;\n\t}\n\t\n\t.info {\n\t\tpadding: 24rpx;\n\t}\n\t\n\t.name-box {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tmargin-bottom: 16rpx;\n\t\t\n\t\t.name {\n\t\t\tfont-size: 32rpx;\n\t\t\tfont-weight: bold;\n\t\t\tcolor: #333;\n\t\t\tflex: 1;\n\t\t\tmargin-right: 20rpx;\n\t\t}\n\t\t\n\t\t.rating {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\t\n\t\t\t.score {\n\t\t\t\tfont-size: 26rpx;\n\t\t\t\tcolor: #ff9500;\n\t\t\t\tmargin-left: 6rpx;\n\t\t\t\tfont-weight: bold;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t.location {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tmargin-bottom: 16rpx;\n\t\t\n\t\t.address {\n\t\t\tfont-size: 26rpx;\n\t\t\tcolor: #666;\n\t\t\tmargin-left: 8rpx;\n\t\t\t@include text-ellipsis;\n\t\t}\n\t}\n\t\n\t.tag-list {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tmargin-bottom: 16rpx;\n\t\t\n\t\t.tag {\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #2979ff;\n\t\t\tbackground-color: rgba(41, 121, 255, 0.1);\n\t\t\tpadding: 4rpx 16rpx;\n\t\t\tborder-radius: 20rpx;\n\t\t\tmargin-right: 16rpx;\n\t\t\tmargin-bottom: 12rpx;\n\t\t}\n\t}\n\t\n\t.bottom-info {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\t\n\t\t.price {\n\t\t\tdisplay: flex;\n\t\t\talign-items: baseline;\n\t\t\t\n\t\t\t.price-label {\n\t\t\t\tfont-size: 24rpx;\n\t\t\t\tcolor: #666;\n\t\t\t\tmargin-right: 8rpx;\n\t\t\t}\n\t\t\t\n\t\t\t.price-value {\n\t\t\t\tfont-size: 32rpx;\n\t\t\t\tcolor: #ff5a5f;\n\t\t\t\tfont-weight: bold;\n\t\t\t}\n\t\t}\n\t\t\n\t\t.time {\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #999;\n\t\t}\n\t}\n\t\n\t.action-box {\n\t\tdisplay: flex;\n\t\tborder-top: 2rpx solid #f5f5f5;\n\t\t\n\t\t.action-btn {\n\t\t\tflex: 1;\n\t\t\theight: 80rpx;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tfont-size: 28rpx;\n\t\t\tcolor: #666;\n\t\t\tbackground-color: #fff;\n\t\t\t\n\t\t\t&:first-child {\n\t\t\t\tborder-right: 2rpx solid #f5f5f5;\n\t\t\t}\n\t\t\t\n\t\t\t.uni-icons {\n\t\t\t\tmargin-right: 8rpx;\n\t\t\t}\n\t\t\t\n\t\t\t&:active {\n\t\t\t\tbackground-color: #f8f8f8;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.plan-favorite-item {\n\tbackground-color: #fff;\n\tmargin: 20rpx;\n\tborder-radius: 12rpx;\n\toverflow: hidden;\n\tbox-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.05);\n\t\n\t.content {\n\t\tpadding: 0;\n\t}\n\t\n\t.user-info {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tpadding: 24rpx;\n\t\t\n\t\t.avatar {\n\t\t\twidth: 40rpx;\n\t\t\theight: 40rpx;\n\t\t\tborder-radius: 50%;\n\t\t\tmargin-right: 16rpx;\n\t\t}\n\t\t\n\t\t.username {\n\t\t\tfont-size: 28rpx;\n\t\t\tfont-weight: bold;\n\t\t\tcolor: #333;\n\t\t}\n\t\t\n\t\t.time {\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #999;\n\t\t}\n\t}\n\t\n\t.plan-header {\n\t\tpadding: 24rpx;\n\t\tborder-bottom: 2rpx solid #f5f5f5;\n\t\t\n\t\t.plan-title {\n\t\t\tfont-size: 32rpx;\n\t\t\tfont-weight: bold;\n\t\t\tcolor: #333;\n\t\t}\n\t\t\n\t\t.status-tag {\n\t\t\tdisplay: inline-block;\n\t\t\tfont-size: 24rpx;\n\t\t\tpadding: 4rpx 16rpx;\n\t\t\tborder-radius: 20rpx;\n\t\t\tmargin-left: 16rpx;\n\t\t\t\n\t\t\t&.status-planned {\n\t\t\t\tcolor: #2979ff;\n\t\t\t\tbackground-color: rgba(41, 121, 255, 0.1);\n\t\t\t}\n\t\t\t\n\t\t\t&.status-ongoing {\n\t\t\t\tcolor: #ff9500;\n\t\t\t\tbackground-color: rgba(255, 149, 0, 0.1);\n\t\t\t}\n\t\t\t\n\t\t\t&.status-completed {\n\t\t\t\tcolor: #52c41a;\n\t\t\t\tbackground-color: rgba(82, 196, 26, 0.1);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t.plan-dates {\n\t\tpadding: 24rpx;\n\t\tborder-bottom: 2rpx solid #f5f5f5;\n\t\t\n\t\t.uni-icons {\n\t\t\tmargin-right: 8rpx;\n\t\t}\n\t\t\n\t\ttext {\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #666;\n\t\t}\n\t}\n\t\n\t.plan-description {\n\t\tpadding: 24rpx;\n\t\tfont-size: 28rpx;\n\t\tcolor: #666;\n\t}\n\t\n\t.plan-stats {\n\t\tpadding: 24rpx;\n\t\tborder-top: 2rpx solid #f5f5f5;\n\t\t\n\t\t.uni-icons {\n\t\t\tmargin-right: 8rpx;\n\t\t}\n\t\t\n\t\ttext {\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #666;\n\t\t}\n\t\t\n\t\t.duration {\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #999;\n\t\t}\n\t}\n\t\n\t.action-box {\n\t\tdisplay: flex;\n\t\tborder-top: 2rpx solid #f5f5f5;\n\t\t\n\t\t.action-btn {\n\t\t\tflex: 1;\n\t\t\theight: 80rpx;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tfont-size: 28rpx;\n\t\t\tcolor: #666;\n\t\t\tbackground-color: #fff;\n\t\t\t\n\t\t\t&:first-child {\n\t\t\t\tborder-right: 2rpx solid #f5f5f5;\n\t\t\t}\n\t\t\t\n\t\t\t.uni-icons {\n\t\t\t\tmargin-right: 8rpx;\n\t\t\t}\n\t\t\t\n\t\t\t&:active {\n\t\t\t\tbackground-color: #f8f8f8;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.loading, .no-more {\n\ttext-align: center;\n\tpadding: 30rpx;\n\tcolor: #999;\n\tfont-size: 24rpx;\n}\n\n.status-tag {\n\tdisplay: inline-block;\n\tfont-size: 24rpx;\n\tpadding: 4rpx 16rpx;\n\tborder-radius: 20rpx;\n\t\n\t&.status-planned {\n\t\tcolor: #2979ff;\n\t\tbackground-color: rgba(41, 121, 255, 0.1);\n\t}\n\t\n\t&.status-ongoing {\n\t\tcolor: #ff9500;\n\t\tbackground-color: rgba(255, 149, 0, 0.1);\n\t}\n\t\n\t&.status-completed {\n\t\tcolor: #52c41a;\n\t\tbackground-color: rgba(82, 196, 26, 0.1);\n\t}\n}\n\n// 添加文本省略的mixin\n@mixin text-ellipsis {\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n</style> ","import MiniProgramPage from 'D:/programs2024to2025/ranjiangtaoprogram/first/TravelPlatformMiniProgram/pages/user/favorites.vue'\nwx.createPage(MiniProgramPage)"],"mappings":"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","ignoreList":[]}