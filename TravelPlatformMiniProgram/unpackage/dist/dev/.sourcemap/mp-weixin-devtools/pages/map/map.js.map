{"version":3,"names":["_sfc_main","data","latitude","longitude","scale","markers","spotList","page","pageSize","loading","noMore","listHeight","isLocationReady","spot","polyline","navigationOptions","name","icon","showNavigation","onShow","options","app","getApp","globalData","checkLoginStatus","systemInfo","common_vendor","index","getSystemInfoSync","windowHeight","getCurrentLocation","getSpotList","id","getSpotInfo","methods","_this","_asyncToGenerator2","_regeneratorRuntime2","mark","_callee","userId","res","wrap","_callee$","_context","prev","next","getUserId","er","callFunction","user_id","sent","result","code","list","sort","a","b","distance","__f__","updateMarkers","t0","showToast","title","stop","_this2","_callee2","_this2$spot$location$","_callee2$","_context2","location","coordinates","_slicedToArray2","iconPath","width","height","wxGetLocation","_this3","authorize","scope","success","getLocationInfo","fail","showModal","content","confirm","openSetting","useDefaultLocation","h5GetLocation","_this4","navigator","geolocation","getCurrentPosition","position","coords","error","appGetLocation","_this5","getLocation","type","err","length","map","getNearbySpots","_this6","_callee3","_res$result$data","total","_callee3$","_context3","abrupt","sortBy","sortOrder","concat","_toConsumableArray2","loadMore","onMarkerTap","e","markerId","goToDetail","_id","openMapApp","_this$spot$location$c","openLocation","address","goToSearch","navigateTo","url","showNavigationOptions","hideNavigationOptions","navigate","option","openMap","wx","createPage","MiniProgramPage"],"sources":["map.vue","E:/HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbWFwL21hcC52dWU"],"sourcesContent":["<template>\n\t<view class=\"container\">\n\t\t<!-- 搜索栏 -->\n\t\t<view class=\"search-box\">\n\t\t\t<view class=\"search-input\" @click=\"goToSearch\">\n\t\t\t\t<text class=\"iconfont icon-search\"></text>\n\t\t\t\t<text class=\"placeholder\">搜索景点/地点</text>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 地图容器 -->\n\t\t<map\n\t\t\tid=\"map\"\n\t\t\tclass=\"map\"\n\t\t\t:latitude=\"latitude\"\n\t\t\t:longitude=\"longitude\"\n\t\t\t:markers=\"markers\"\n\t\t\t:polyline=\"polyline\"\n\t\t\tscale=\"14\"\n\t\t\tshow-location\n\t\t></map>\n\t\t\n\t\t<view class=\"navigation-info\" v-if=\"spot\">\n\t\t\t<view class=\"spot-info\">\n\t\t\t\t<text class=\"name\">{{spot.name}}</text>\n\t\t\t\t<text class=\"address\">{{spot.address}}</text>\n\t\t\t</view>\n\t\t\t<view class=\"navigation-btn\" @click=\"openMapApp\">\n\t\t\t\t<text class=\"iconfont icon-navigation\"></text>\n\t\t\t\t<text>导航</text>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 景点列表 -->\n\t\t<scroll-view \n\t\t\tclass=\"spot-list\" \n\t\t\tscroll-y\n\t\t\t:style=\"{ height: listHeight + 'px' }\"\n\t\t\t@scrolltolower=\"loadMore\"\n\t\t>\n\t\t\t<view class=\"spot-item\" v-for=\"(item, index) in spotList\" :key=\"index\" @click=\"goToDetail(item._id)\">\n\t\t\t\t<image class=\"spot-image\" :src=\"item.imageUrl\" mode=\"aspectFill\"></image>\n\t\t\t\t<view class=\"info\">\n\t\t\t\t\t<view class=\"name-box\">\n\t\t\t\t\t\t<text class=\"name\">{{item.name}}</text>\n\t\t\t\t\t\t<text class=\"distance\" v-if=\"item.distance\">{{item.distance.toFixed(1)}}km</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"rating\">\n\t\t\t\t\t\t<text class=\"score\">{{item.rating}}分</text>\n\t\t\t\t\t\t<text class=\"price\">¥{{item.price}}起</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"address\">{{item.address}}</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"nav-btn\" @click.stop=\"openMap(item)\">\n\t\t\t\t\t<text class=\"iconfont icon-navigation\"></text>\n\t\t\t\t\t<text>导航</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<!-- 导航选项弹窗 -->\n\t\t<view class=\"popup-mask\" v-if=\"showNavigation\" @click=\"hideNavigationOptions\">\n\t\t\t<view class=\"popup-content navigation-popup\" @click.stop>\n\t\t\t\t<view class=\"navigation-options\">\n\t\t\t\t\t<view class=\"title\">选择导航方式</view>\n\t\t\t\t\t<view class=\"option-list\">\n\t\t\t\t\t\t<view class=\"option\" v-for=\"(item, index) in navigationOptions\" :key=\"index\" @click=\"navigate(item)\">\n\t\t\t\t\t\t\t<text class=\"iconfont\" :class=\"item.icon\"></text>\n\t\t\t\t\t\t\t<text class=\"name\">{{item.name}}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"cancel\" @click=\"hideNavigationOptions\">取消</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\t<!-- 加载更多 -->\n\t\t\t<view class=\"loading\" v-if=\"loading\">\n\t\t\t\t<text>正在加载...</text>\n\t\t\t</view>\n\t\t\t<view class=\"no-more\" v-if=\"noMore\">\n\t\t\t\t<text>没有更多了</text>\n\t\t\t</view>\n\t\t</scroll-view>\n\t</view>\n</template>\n\n<script>\n\n/**\n * 地图页面\n * @description 展示景点在地图上的位置，支持导航\n */\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tlatitude: 39.909, // 默认纬度（北京）\n\t\t\tlongitude: 116.397, // 默认经度（北京）\n\t\t\tscale: 12, // 缩放级别\n\t\t\tmarkers: [], // 地图标记点\n\t\t\tspotList: [], // 景点列表\n\t\t\tpage: 1,\n\t\t\tpageSize: 10,\n\t\t\tloading: false,\n\t\t\tnoMore: false,\n\t\t\tlistHeight: 400, // 列表高度，单位px\n\t\t\tisLocationReady: false, // 位置是否就绪\n\t\t\tspot: null,\n\t\t\tpolyline: [],\n\t\t\tnavigationOptions: [\n\t\t\t\t{ name: '百度地图', icon: 'icon-baidu' },\n\t\t\t\t{ name: '高德地图', icon: 'icon-gaode' },\n\t\t\t\t{ name: '腾讯地图', icon: 'icon-tengxun' }\n\t\t\t],\n\t\t\tshowNavigation: false,\n\t\t}\n\t},\n\tonShow(options) {\n\t\t// 页面加载时检查登录状态\n\t\tconst app = getApp();\n\t\tapp.globalData.checkLoginStatus(false); \n\t\t\n\t\t// 获取列表容器高度\n\t\tconst systemInfo = uni.getSystemInfoSync()\n\t\tthis.listHeight = systemInfo.windowHeight - 350\n\t\t\n\t\t// 获取位置信息\n\t\tthis.getCurrentLocation()\n\t\t\n\t\t// 获取景点列表\n\t\tthis.getSpotList()\n\t\t\n\t\t// 获取景点信息\n\t\tif (options.id) {\n\t\t\tthis.getSpotInfo(options.id)\n\t\t}\n\t},\n\tmethods: {\n\t\t// 获取景点列表\n\t\tasync getSpotList() {\n\t\t\ttry {\n\t\t\t\tconst app = getApp();\n\t\t\t\tconst userId = app.globalData.getUserId();\n\t\t\t\t\n\t\t\t\tconst res = await uniCloud.callFunction({\n\t\t\t\t\tname: 'get-spots',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tlongitude: this.longitude,\n\t\t\t\t\t\tlatitude: this.latitude,\n\t\t\t\t\t\tpage: 1,\n\t\t\t\t\t\tpageSize: 10,\n\t\t\t\t\t\tuser_id: userId\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\tif (res.result.code === 0) {\n\t\t\t\t\tthis.spotList = res.result.data.list\n\t\t\t\t\t//将spotList的数据以distance正向排序\n\t\t\t\t\tthis.spotList.sort((a, b) => a.distance - b.distance)\t\n\t\t\t\t\tconsole.log(\"景点列表\",this.spotList)\n\t\t\t\t\tthis.updateMarkers()\n\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error('获取景点列表失败:', e)\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '获取景点列表失败',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\n\t\t// 获取景点信息\n\t\tasync getSpotInfo(id) {\n\t\t\ttry {\n\t\t\t\tconst app = getApp();\n\t\t\t\tconst userId = app.globalData.getUserId();\n\n\t\t\t\tconst res = await uniCloud.callFunction({\n\t\t\t\t\tname: 'get-spot-detail',\n\t\t\t\t\tdata: { \n\t\t\t\t\t\tid,\n\t\t\t\t\t\tuser_id: userId\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\tif (res.result.code === 0) {\n\t\t\t\t\tthis.spot = res.result.data\n\t\t\t\t\t// 添加标记点\n\t\t\t\t\tif (this.spot.location && this.spot.location.coordinates) {\n\t\t\t\t\t\tconst [longitude, latitude] = this.spot.location.coordinates\n\t\t\t\t\t\tthis.markers = [{\n\t\t\t\t\t\t\tid: 1,\n\t\t\t\t\t\t\tlatitude,\n\t\t\t\t\t\t\tlongitude,\n\t\t\t\t\t\t\ttitle: this.spot.name,\n\t\t\t\t\t\t\ticonPath: '/static/icons/park.png',\n\t\t\t\t\t\t\twidth: 32,\n\t\t\t\t\t\t\theight: 32\n\t\t\t\t\t\t}]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error('获取景点信息失败:', e)\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '获取景点信息失败',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\t// 获取当前位置\n\t\tgetCurrentLocation() {\n\t\t\t// #ifdef MP-WEIXIN\n\t\t\tthis.wxGetLocation()\n\t\t\t// #endif\n\t\t\t\n\t\t\t// #ifdef H5\n\t\t\tthis.h5GetLocation()\n\t\t\t// #endif\n\t\t\t\n\t\t\t// #ifdef APP-PLUS\n\t\t\tthis.appGetLocation()\n\t\t\t// #endif\n\t\t},\n\t\t\n\t\t// 微信小程序获取位置\n\t\twxGetLocation() {\n\t\t\tuni.authorize({\n\t\t\t\tscope: 'scope.userLocation',\n\t\t\t\tsuccess: () => {\n\t\t\t\t\tthis.getLocationInfo()\n\t\t\t\t},\n\t\t\t\tfail: () => {\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\tcontent: '需要获取您的地理位置，请确认授权',\n\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\tuni.openSetting()\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.useDefaultLocation()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t\n\t\t// H5获取位置\n\t\th5GetLocation() {\n\t\t\tif (navigator.geolocation) {\n\t\t\t\tnavigator.geolocation.getCurrentPosition(\n\t\t\t\t\t(position) => {\n\t\t\t\t\t\tthis.latitude = position.coords.latitude\n\t\t\t\t\t\tthis.longitude = position.coords.longitude\n\t\t\t\t\t\tthis.isLocationReady = true\n\t\t\t\t\t\tthis.updateMarkers()\n\t\t\t\t\t},\n\t\t\t\t\t(error) => {\n\t\t\t\t\t\tconsole.error('获取位置失败:', error)\n\t\t\t\t\t\tthis.useDefaultLocation()\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t} else {\n\t\t\t\tthis.useDefaultLocation()\n\t\t\t}\n\t\t},\n\t\t\n\t\t// APP获取位置\n\t\tappGetLocation() {\n\t\t\tthis.getLocationInfo()\n\t\t},\n\t\t\n\t\t// 统一获取位置信息\n\t\tgetLocationInfo() {\n\t\t\tuni.getLocation({\n\t\t\t\ttype: 'gcj02',\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tthis.latitude = res.latitude\n\t\t\t\t\tthis.longitude = res.longitude\n\t\t\t\t\tthis.isLocationReady = true\n\t\t\t\t\tthis.updateMarkers()\n\t\t\t\t},\n\t\t\t\tfail: (err) => {\n\t\t\t\t\tconsole.error('获取位置失败:', err)\n\t\t\t\t\tthis.useDefaultLocation()\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t\n\t\t// 使用默认位置（北京）\n\t\tuseDefaultLocation() {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '未能获取位置，使用默认位置',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t\tthis.isLocationReady = true\n\t\t\tthis.updateMarkers()\n\t\t},\n\t\t\n\t\t// 更新地图标记\n\t\tupdateMarkers() {\n\t\t\tif (this.spotList.length > 0) {\n\t\t\t\tthis.markers = this.spotList.map((spot, index) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tid: index,\n\t\t\t\t\t\tlatitude: spot.location.coordinates[1],\n\t\t\t\t\t\tlongitude: spot.location.coordinates[0],\n\t\t\t\t\t\ttitle: spot.name,\n\t\t\t\t\t\ticonPath: '/static/icons/park.png',\n\t\t\t\t\t\twidth: 32,\n\t\t\t\t\t\theight: 32\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 获取附近景点\n\t\tasync getNearbySpots() {\n\t\t\tif (this.loading || this.noMore) return\n\t\t\tthis.loading = true\n\t\t\t\n\t\t\ttry {\n\t\t\t\tconst res = await uniCloud.callFunction({\n\t\t\t\t\tname: 'get-spots',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tlongitude: this.longitude,\n\t\t\t\t\t\tlatitude: this.latitude,\n\t\t\t\t\t\tpage: this.page,\n\t\t\t\t\t\tpageSize: this.pageSize,\n\t\t\t\t\t\tsortBy: 'distance',\n\t\t\t\t\t\tsortOrder: 'asc'\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\tif (res.result.code === 0) {\n\t\t\t\t\tconst { list, total } = res.result.data\n\t\t\t\t\t\n\t\t\t\t\t// 更新景点列表\n\t\t\t\t\tif (this.page === 1) {\n\t\t\t\t\t\tthis.spotList = list\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.spotList = [...this.spotList, ...list]\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// 更新地图标记\n\t\t\t\t\tthis.updateMarkers()\n\t\t\t\t\t\n\t\t\t\t\t// 检查是否还有更多数据\n\t\t\t\t\tthis.noMore = this.spotList.length >= total\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '获取景点失败',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t}\n\t\t\t\n\t\t\tthis.loading = false\n\t\t},\n\t\t\n\t\t// 加载更多\n\t\tloadMore() {\n\t\t\tif (!this.noMore) {\n\t\t\t\tthis.page++\n\t\t\t\tthis.getNearbySpots()\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 标记点点击事件\n\t\tonMarkerTap(e) {\n\t\t\tconst spot = this.spotList[e.markerId - 1]\n\t\t\tif (spot) {\n\t\t\t\tthis.goToDetail(spot._id)\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 打开地图应用进行导航\n\t\topenMapApp() {\n\t\t\tif (!this.spot || !this.spot.location) return\n\t\t\t\n\t\t\tconst [longitude, latitude] = this.spot.location.coordinates\n\t\t\tuni.openLocation({\n\t\t\t\tlatitude,\n\t\t\t\tlongitude,\n\t\t\t\tname: this.spot.name,\n\t\t\t\taddress: this.spot.address,\n\t\t\t\tsuccess: () => {\n\t\t\t\t\tconsole.log('打开导航成功')\n\t\t\t\t},\n\t\t\t\tfail: () => {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '打开导航失败',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t\n\t\t// 跳转到搜索页\n\t\tgoToSearch() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/spots/search'\n\t\t\t})\n\t\t},\n\t\t\n\t\t// 跳转到详情页\n\t\tgoToDetail(id) {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: `/pages/spots/detail?id=${id}`\n\t\t\t})\n\t\t},\n\n\t\t// 显示导航选项\n\t\tshowNavigationOptions() {\n\t\t\tthis.showNavigation = true\n\t\t},\n\t\t\n\t\t// 隐藏导航选项\n\t\thideNavigationOptions() {\n\t\t\tthis.showNavigation = false\n\t\t},\n\t\t\n\t\t// 导航\n\t\tnavigate(option) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: `即将打开${option.name}`,\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t\tthis.hideNavigationOptions()\n\t\t},\n\n\t\t// 打开地图\n\t\topenMap() {\n\t\t\tthis.showNavigationOptions()\n\t\t},\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n.container {\n\theight: 100vh;\n\tdisplay: flex;\n\tflex-direction: column;\n\tposition: relative;\n}\n\n.search-box {\n\tpadding: 20rpx 30rpx;\n\tbackground-color: #2B9939;\n\theight: 100rpx;\n\tbox-sizing: border-box;\n\t\n\t.search-input {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\theight: 60rpx;\n\t\tpadding: 0 30rpx;\n\t\tbackground: rgba(255, 255, 255, 0.9);\n\t\tborder-radius: 30rpx;\n\t\t\n\t\t.icon-search {\n\t\t\tfont-size: 32rpx;\n\t\t\tcolor: #666;\n\t\t\tmargin-right: 10rpx;\n\t\t}\n\t\t\n\t\t.placeholder {\n\t\t\tfont-size: 28rpx;\n\t\t\tcolor: #999;\n\t\t}\n\t}\n}\n\n.map {\n\twidth: 100%;\n\theight: 50vh;\n}\n\n.navigation-info {\n\tposition: absolute;\n\tbottom: 0;\n\tleft: 0;\n\tright: 0;\n\tbackground-color: #fff;\n\tpadding: 30rpx;\n\tborder-radius: 24rpx 24rpx 0 0;\n\tbox-shadow: 0 -2rpx 10rpx rgba(0, 0, 0, 0.1);\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\t\n\t.spot-info {\n\t\tflex: 1;\n\t\tmargin-right: 20rpx;\n\t\t\n\t\t.name {\n\t\t\tfont-size: 32rpx;\n\t\t\tcolor: #333;\n\t\t\tfont-weight: bold;\n\t\t\tmargin-bottom: 10rpx;\n\t\t\t@include text-ellipsis;\n\t\t}\n\t\t\n\t\t.address {\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #666;\n\t\t\t@include text-ellipsis;\n\t\t}\n\t}\n\t\n\t.navigation-btn {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tpadding: 20rpx;\n\t\t\n\t\t.iconfont {\n\t\t\tfont-size: 48rpx;\n\t\t\tcolor: #007AFF;\n\t\t\tmargin-bottom: 10rpx;\n\t\t}\n\t\t\n\t\ttext {\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #007AFF;\n\t\t}\n\t}\n}\n\n.spot-list {\n\tflex: 1;\n\tbackground-color: #f5f5f5;\n\tpadding: 20rpx;\n\t\n\t.spot-item {\n\t\tdisplay: flex;\n\t\tpadding: 20rpx;\n\t\tbackground-color: #fff;\n\t\tborder-radius: 12rpx;\n\t\tmargin-bottom: 20rpx;\n\t\t\n\t\t.spot-image {\n\t\t\twidth: 160rpx;\n\t\t\theight: 160rpx;\n\t\t\tborder-radius: 8rpx;\n\t\t\tmargin-right: 20rpx;\n\t\t}\n\t\t\n\t\t.info {\n\t\t\tflex: 1;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tjustify-content: space-between;\n\t\t\t\n\t\t\t.name-box {\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\talign-items: center;\n\t\t\t\tmargin-bottom: 10rpx;\n\t\t\t\t\n\t\t\t\t.name {\n\t\t\t\t\tfont-size: 32rpx;\n\t\t\t\t\tcolor: #333;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.distance {\n\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\tcolor: #999;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t.rating {\n\t\t\t\tmargin-bottom: 10rpx;\n\t\t\t\t\n\t\t\t\t.score {\n\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\tcolor: #FF9500;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\tmargin-right: 20rpx;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.price {\n\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\tcolor: #FF5B05;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t.address {\n\t\t\t\tfont-size: 24rpx;\n\t\t\t\tcolor: #666;\n\t\t\t\t@include text-ellipsis;\n\t\t\t}\n\t\t}\n\t\t\n\t\t.nav-btn {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tmargin-left: 20rpx;\n\t\t\tpadding: 0 20rpx;\n\t\t\t\n\t\t\t.iconfont {\n\t\t\t\tfont-size: 40rpx;\n\t\t\t\tcolor: #2B9939;\n\t\t\t\tmargin-bottom: 4rpx;\n\t\t\t}\n\t\t\t\n\t\t\ttext {\n\t\t\t\tfont-size: 24rpx;\n\t\t\t\tcolor: #2B9939;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.loading, .no-more {\n\tpadding: 30rpx;\n\ttext-align: center;\n\t\n\ttext {\n\t\tfont-size: 24rpx;\n\t\tcolor: #999;\n\t}\n}\n\n/* 弹窗基础样式 */\n.popup-mask {\n\tposition: fixed;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\tleft: 0;\n\tbackground: rgba(0, 0, 0, 0.6);\n\tz-index: 999;\n\tdisplay: flex;\n\talign-items: flex-end;\n}\n\n.popup-content {\n\twidth: 100%;\n\tbackground-color: #fff;\n\tborder-radius: 24rpx 24rpx 0 0;\n\tposition: relative;\n\ttransition: transform 0.3s;\n\tmax-height: 90vh;\n}\n.navigation-popup {\n\ttransform: translateY(0);\n\tpadding: 30rpx;\n\t\n\t.navigation-options {\n\t\t.title {\n\t\t\tfont-size: 32rpx;\n\t\t\tcolor: #333;\n\t\t\ttext-align: center;\n\t\t\tmargin-bottom: 30rpx;\n\t\t}\n\t\t\n\t\t.option-list {\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-around;\n\t\t\tmargin-bottom: 30rpx;\n\t\t\t\n\t\t\t.option {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\talign-items: center;\n\t\t\t\t\n\t\t\t\t.iconfont {\n\t\t\t\t\tfont-size: 80rpx;\n\t\t\t\t\tcolor: #2B9939;\n\t\t\t\t\tmargin-bottom: 10rpx;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.name {\n\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\tcolor: #333;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t.cancel {\n\t\t\theight: 90rpx;\n\t\t\tline-height: 90rpx;\n\t\t\ttext-align: center;\n\t\t\tfont-size: 32rpx;\n\t\t\tcolor: #666;\n\t\t\tborder-top: 1rpx solid #eee;\n\t\t}\n\t}\n}\n\n</style> ","import MiniProgramPage from 'D:/programs2024to2025/ranjiangtaoprogram/first/TravelPlatformMiniProgram/pages/map/map.vue'\nwx.createPage(MiniProgramPage)"],"mappings":"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","ignoreList":[]}